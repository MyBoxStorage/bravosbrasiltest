<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- ============================================ -->
  <!-- META TAGS & SEO -->
  <!-- ============================================ -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <!-- Primary SEO -->
  <title>BRAVOS BRASIL | Camisetas Premium Patri√≥ticas - Vista Seu Orgulho</title>
  <meta name="description" content="Camisetas premium com designs exclusivos com identidade nacional. 100% algod√£o brasileiro, estampas de alta qualidade. Deus, Fam√≠lia, P√°tria. Frete gr√°tis para todo o Brasil.">
  <meta name="keywords" content="camisetas patri√≥ticas, camisetas Brasil, moda conservadora, camisetas verde e amarelo, orgulho brasileiro">
  <meta name="author" content="BRAVOS BRASIL">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://bravosbrasil.com.br">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://bravosbrasil.com.br">
  <meta property="og:title" content="BRAVOS BRASIL | Camisetas Premium Patri√≥ticas">
  <meta property="og:description" content="Vista seu orgulho brasileiro com camisetas premium de alta qualidade. Designs exclusivos com identidade nacional.">
  <meta property="og:image" content="https://bravosbrasil.com.br/og-image.jpg">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://bravosbrasil.com.br">
  <meta property="twitter:title" content="BRAVOS BRASIL | Camisetas Premium Patri√≥ticas">
  <meta property="twitter:description" content="Vista seu orgulho brasileiro com camisetas premium de alta qualidade.">
  <meta property="twitter:image" content="https://bravosbrasil.com.br/twitter-image.jpg">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQlJBVk9TIEJSQVNJTCIsInNob3J0X25hbWUiOiJCcmF2b3MiLCJzdGFydF91cmwiOiIuIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiIzAwODQzRCIsInRoZW1lX2NvbG9yIjoiI0ZGQ0MyOSIsImljb25zIjpbeyJzcmMiOiIvZmF2aWNvbi5pY28iLCJzaXplcyI6IjY0eDY0In1dfQ==">
  <meta name="theme-color" content="#00843D">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%2300843D' width='100' height='100' rx='15'/%3E%3Ctext x='50' y='65' font-size='45' text-anchor='middle' fill='%23FFCC29'%3EB%3C/text%3E%3C/svg%3E">
  
  <!-- Preload Critical Resources -->
  <link rel="preload" href="public/hero-flag.jpg" as="image">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;500;600;700;800&family=Oswald:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'brasil-green': '#00843D',
            'brasil-green-dark': '#006B32',
            'brasil-green-light': '#00A34C',
            'brasil-yellow': '#FFCC29',
            'brasil-yellow-dark': '#E6B800',
            'brasil-blue': '#002776',
          },
          fontFamily: {
            'heading': ['Oswald', 'Bebas Neue', 'sans-serif'],
            'body': ['Inter', 'sans-serif'],
          },
          animation: {
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'float': 'float 3s ease-in-out infinite',
            'slide-up': 'slideUp 0.5s ease-out',
            'bounce-slight': 'bounceSlight 2s infinite',
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' },
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            },
            bounceSlight: {
              '0%, 100%': { transform: 'translateY(-5%)' },
              '50%': { transform: 'translateY(0)' },
            },
            countUp: {
              'from': { opacity: '0', transform: 'translateY(10px)' },
              'to': { opacity: '1', transform: 'translateY(0)' },
            }
          }
        }
      }
    }
  </script>
  
  <!-- AOS Animation Library -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
  
  <!-- Alpine.js App Data - MUST be before Alpine.js -->
  <script>
    // ============================================
    // ALPINE.JS APP DATA
    // ============================================
    function storeApp() {
      return {
        // UI State
        scrolled: false,
        mobileMenuOpen: false,
        openCart: false,
        openCheckout: false,
        darkMode: false,
        
        // Speech Bubble State
        speechBubbleVisible: false,
        speechBubbleDismissed: localStorage.getItem('wizardBubbleDismissed') === 'true',
        
        // Fun√ß√£o para dispensar o bal√£o
        dismissSpeechBubble() {
          this.speechBubbleDismissed = true;
          localStorage.setItem('wizardBubbleDismissed', 'true');
        },
        
        // Fun√ß√£o para ativar modo guiado via bal√£o
        activateGuidedMode() {
          this.geradorEstampas.advancedMode = false;
          this.geradorEstampas.wizardMode = true;
          this.speechBubbleDismissed = true;
          localStorage.setItem('wizardBubbleDismissed', 'true');
          
          // Scroll suave at√© o wizard
          setTimeout(() => {
            const wizardSection = document.querySelector('#wizard-section');
            if (wizardSection) {
              wizardSection.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
              });
            }
          }, 100);
        },
        
        // Cart
        cart: [],
        
        // Newsletter
        newsletter: {
          name: '',
          email: '',
          phone: ''
        },
        
        // Checkout
        checkout: {
          name: '',
          email: '',
          phone: '',
          cep: '',
          address: '',
          number: '',
          complement: '',
          neighborhood: '',
          city: '',
          state: ''
        },
        
        // Toast
        toast: {
          show: false,
          message: '',
          type: 'success'
        },
        
        // Authentication
        auth: {
          token: null,
          user: null,
          isAuthenticated: false
        },
        
        // Gerador de Estampas
        geradorEstampas: {
          prompt: '',
          imageFile: null,
          imagePreview: null,
          generatedImageUrl: null,
          isLoading: false,
          error: null,
          tentativasRestantes: 0,
          estampaId: null,
          openLoginModal: false,
          isPreview: false,
          loginModalContext: null,
          cacheEstampas: [],
          openCacheModal: false,
          estampaParaExcluir: null,
          deviceFingerprint: null,
          previewsGeradas: 0,
          // Wizard Mode
          advancedMode: true, // Start in advanced mode by default
          wizardMode: false, // Internal wizard state (inverse of advancedMode)
          wizardStep: 1,
          wizard: {
            style: null,
            theme: null,
            colors: 'verde_amarelo',
            customDetails: ''
          },
          loginForm: {
            email: '',
            password: '',
            nome: '',
            telefone: '',
            isRegister: false
          },
          
          // Banco de dados de prompts por categoria
          promptDatabase: {
            familia: [
              "Fam√≠lia brasileira unida vestindo verde e amarelo, abra√ßados, sorrindo, fundo com bandeira do Brasil",
              "Pais e filhos com camisetas patri√≥ticas, fazendo cora√ß√£o com as m√£os, cores vibrantes do Brasil",
              "Fam√≠lia reunida em churrasco, todos com acess√≥rios verde e amarelo, clima festivo",
              "Av√≥s e netos juntos segurando mini bandeiras do Brasil, foto acolhedora e feliz",
              "Fam√≠lia de tr√™s gera√ß√µes vestida de verde e amarelo, pose alegre e descontra√≠da",
              "Crian√ßas e pais pintando o rosto com as cores do Brasil, momento divertido",
              "Fam√≠lia fazendo gesto de paz e amor, usando tons de verde, amarelo e azul",
              "Irm√£os abra√ßados com bandana do Brasil na cabe√ßa, sorriso largo, fundo patri√≥tico",
              "Fam√≠lia em c√≠rculo de m√£os dadas, vis√£o de cima, formando cora√ß√£o verde e amarelo",
              "Pais levantando filhos no ar, todos com roupas patri√≥ticas, c√©u azul ao fundo",
              "Fam√≠lia pulando juntos de alegria, vestindo verde e amarelo, movimento congelado",
              "Grupo familiar grande com diferentes idades, todos usando acess√≥rios do Brasil",
              "Fam√≠lia fazendo piquenique com toalha verde e amarela, clima descontra√≠do",
              "Fam√≠lia fazendo pose de super-her√≥is todos juntos, capa verde e amarela voando",
              "Crian√ßas montadas nos ombros dos pais, todos vestidos de patriotas, alegria pura",
              "Fam√≠lia em fila indiana, cada um segurando uma letra que forma BRASIL",
              "Grupo familiar fazendo onda mexicana com as cores do Brasil",
              "Fam√≠lia toda pintada de verde e amarelo, estilo torcida de Copa",
              "Pais e filhos construindo castelo de areia com bandeira do Brasil no topo",
              "Fam√≠lia correndo em c√¢mera lenta com bandeira tremulando atr√°s",
              "Todos deitados no ch√£o formando estrela com os corpos, vis√£o a√©rea",
              "Fam√≠lia em volta de bolo decorado com Brasil, momento de celebra√ß√£o",
              "Grupo completo usando √≥culos engra√ßados verde e amarelo, pose divertida",
              "Fam√≠lia segurando placa 'Orgulho de ser brasileiro', cada um uma letra",
              "Pais e filhos em trenzinho, seguindo bandeira do Brasil como locomotiva",
              "Fam√≠lia inteira com perucas afro verde e amarela, humor e orgulho",
              "Grupo fazendo yoga juntos, roupas patri√≥ticas, harmonia e uni√£o",
              "Fam√≠lia em pose de √°lbum de rock, atitude, verde e amarelo predominante",
              "Todos segurando bal√µes verde e amarelo voando, c√©u azul, liberdade",
              "Fam√≠lia fazendo caras e bocas engra√ßadas, mood patriota divertido",
              "Grupo em c√≠rculo visto de baixo para cima, todos olhando c√¢mera",
              "Fam√≠lia recreando pintura famosa brasileira, estilo art√≠stico",
              "Todos usando m√°scaras de super-her√≥is verde e amarelo",
              "Fam√≠lia construindo pir√¢mide humana, bandeira do Brasil no topo",
              "Grupo todo em pose de selfie, celular com case verde e amarelo",
              "Fam√≠lia formando cora√ß√£o humano gigante, vis√£o a√©rea, cores Brasil",
              "Pais e filhos em competi√ß√£o de careta patri√≥tica, hil√°rio",
              "Fam√≠lia inteira com bigode falso verde, humor brasileiro",
              "Grupo fazendo dan√ßa sincronizada com len√ßos verde e amarelo",
              "Fam√≠lia em pose de time de futebol, uniformes patri√≥ticos",
              "Todos abra√ßados em grupo apertado, close nos rostos sorrisos",
              "Fam√≠lia segurando faixa 'Brasil no Cora√ß√£o', orgulhosos",
              "Grupo inteiro usando cuecas/calcinhas sobre a roupa como super-her√≥is",
              "Fam√≠lia em pose de poster de filme de a√ß√£o brasileiro",
              "Todos fazendo sombra chinesa verde e amarela na parede",
              "Fam√≠lia recreando meme brasileiro famoso, humor nacional",
              "Grupo com instrumentos musicais improvisados, samba patriota",
              "Fam√≠lia fazendo macarena todos sincronizados, roupas Brasil",
              "Todos em pose de dabbing com acess√≥rios verde e amarelo",
              "Fam√≠lia segurando pizza com cobertura verde e amarela, divertido"
            ],
            
            sozinho: [
              "Pessoa confiante posando com bandeira do Brasil nos ombros como capa de super-her√≥i",
              "Brasileiro sorridente fazendo sinal de joia, vestindo verde e amarelo, fundo patri√≥tico",
              "Retrato de orgulho nacional, pessoa com m√£o no cora√ß√£o, express√£o determinada",
              "Jovem brasileiro moderno com bon√© verde e amarelo, pose estilosa, fundo urbano",
              "Pessoa fazendo cora√ß√£o com as m√£os, dedos formando verde e amarelo, close-up",
              "Brasileiro atl√©tico em pose de vit√≥ria, punho erguido, cores da bandeira",
              "Retrato art√≠stico com ilumina√ß√£o verde e amarela projetada no rosto, dram√°tico",
              "Pessoa segurando bandeira do Brasil com orgulho, vento soprando, √©pico",
              "Brasileiro sorridente com pintura facial verde e amarela, close-up expressivo",
              "Pose confiante com bra√ßos cruzados, vestindo camisa verde com detalhes amarelos",
              "Pessoa apontando para cima com esperan√ßa, fundo com estrelas e cores do Brasil",
              "Retrato de perfil com cabelo verde e amarelo estilizado, moderno e art√≠stico",
              "Brasileiro fazendo gesto de paz, express√£o serena, fundo com bandeira suave",
              "Pessoa em pose de pensador de Rodin, mas com camisa do Brasil",
              "Brasileiro fazendo yoga tree pose, equil√≠brio, cores da bandeira",
              "Retrato com sombra projetando silhueta da bandeira do Brasil",
              "Pessoa segurando espelho que reflete verde e amarelo",
              "Brasileiro em pose de modelo fashion, outfit patri√≥tico estiloso",
              "Retrato split screen: metade verde, metade amarelo, art√≠stico",
              "Pessoa com headphone verde e amarelo, curtindo m√∫sica brasileira",
              "Brasileiro fazendo dab com estilo, roupas patri√≥ticas urbanas",
              "Retrato com luz neon verde e amarela, vibe futurista",
              "Pessoa usando √≥culos escuros refletindo bandeira do Brasil",
              "Brasileiro em pose de super-her√≥i pousando, dram√°tico",
              "Retrato com flores verde e amarelas formando moldura natural",
              "Pessoa soprando confete verde e amarelo, momento m√°gico",
              "Brasileiro em pose de medita√ß√£o, paz e patriotismo",
              "Retrato com cabelo esvoa√ßante verde e amarelo, din√¢mico",
              "Pessoa vestida de guerreiro com armadura verde e amarela",
              "Brasileiro fazendo parkour com roupas patri√≥ticas, a√ß√£o",
              "Retrato dupla exposi√ß√£o com paisagem brasileira sobreposta",
              "Pessoa segurando guarda-chuva verde sob chuva de confete amarelo",
              "Brasileiro em pose de boxeador, luvas verde e amarela",
              "Retrato com maquiagem art√≠stica verde e amarela elaborada",
              "Pessoa usando coroa de folhas verdes e flores amarelas",
              "Brasileiro fazendo pose de skate trick, estilo urbano patriota",
              "Retrato com tatuagem tempor√°ria da bandeira do Brasil",
              "Pessoa em pose de dan√ßarino de break, movimento congelado",
              "Brasileiro vestido de anjo com asas verde e amarela",
              "Retrato com efeito de part√≠culas douradas e verdes voando",
              "Pessoa em pose de leitura com livro sobre hist√≥ria do Brasil",
              "Brasileiro fazendo pose de DJ com fones verde e amarelo",
              "Retrato com holofote verde e amarelo em fundo escuro",
              "Pessoa usando fantasia de Carnaval patri√≥tica elaborada",
              "Brasileiro em pose de skatista, board verde e amarelo",
              "Retrato com express√£o de determina√ß√£o, olhar penetrante patriota",
              "Pessoa segurando placa 'Made in Brazil' com orgulho",
              "Brasileiro em pose de nadador ol√≠mpico, cores da bandeira",
              "Retrato art√≠stico preto e branco com splash verde e amarelo",
              "Pessoa usando kimono verde com faixa amarela, marcial"
            ],
            
            casal: [
              "Casal brasileiro apaixonado se abra√ßando, vestindo verde e amarelo, p√¥r do sol",
              "Namorados fazendo cora√ß√£o com as m√£os juntas, cores patri√≥ticas, rom√¢ntico",
              "Casal dan√ßando juntos com len√ßos verde e amarelo, movimento e alegria",
              "Dois cora√ß√µes batendo como um, casal de m√£os dadas, bandeira do Brasil ao fundo",
              "Casal se beijando com rosto pintado de verde e amarelo, momento apaixonado",
              "Noivos brasileiros com grinalda verde e amarela, amor e patriotismo",
              "Casal sentado abra√ßado assistindo jogo do Brasil, clima de torcida unida",
              "Parceiros fazendo selfie juntos, ambos com camiseta da sele√ß√£o, felizes",
              "Casal maduro celebrando amor e Brasil, segurando bandeira juntos, cumplicidade",
              "Dois abra√ßados de costas olhando horizonte verde e amarelo, po√©tico",
              "Casal pulando de alegria juntos, roupas patri√≥ticas, sincronizados",
              "Namorados fazendo piquenique rom√¢ntico com toalha verde e amarela",
              "Casal usando matching outfits verde e amarelo, pose moderna e estilosa",
              "Casal dan√ßando forr√≥, roupas t√≠picas com verde e amarelo",
              "Namorados fazendo promessa de pinky, dedos pintados patriotas",
              "Casal em pose de filme rom√¢ntico, poster style Brasil",
              "Dois compartilhando sorvete verde e amarelo, momento doce",
              "Casal usando coroas de rei e rainha com joias verde-amarelas",
              "Namorados desenhando cora√ß√£o na areia verde da praia",
              "Casal em pose de tango, paix√£o e patriotismo",
              "Dois fazendo bolha de sab√£o verde e amarela gigante",
              "Casal vestido de noiva e noivo com tema Brasil completo",
              "Namorados compartilhando fone de ouvido, cada um uma cor",
              "Casal usando matching tattoos tempor√°rias da bandeira",
              "Dois fazendo chap√©u humano, um em cima do outro, divertido",
              "Casal em pose de valsa cl√°ssica, eleg√¢ncia patri√≥tica",
              "Namorados construindo cora√ß√£o com Lego verde e amarelo",
              "Casal fazendo pose de yin-yang com corpos, cores Brasil",
              "Dois segurando placa 'Amor Brasileiro' juntos",
              "Casal em pose de super-her√≥is power couple, √©pico",
              "Namorados fazendo sombra de cora√ß√£o com m√£os, luz verde-amarela",
              "Casal usando pijamas combinando com tema Brasil",
              "Dois em pose de dan√ßa de sal√£o, movimento elegante",
              "Casal fazendo promessa de sempre, ritual verde e amarelo",
              "Namorados segurando quebra-cabe√ßa montado da bandeira",
              "Casal em pose de bike, bicicleta decorada patriota",
              "Dois fazendo toast com copos verde e amarelo, celebra√ß√£o",
              "Casal usando m√°scaras venezianas patri√≥ticas elegantes",
              "Namorados em pose de Titanic na proa, verde e amarelo",
              "Casal fazendo pintura corporal um no outro, arte",
              "Dois em pose de acrobacia, confian√ßa e equil√≠brio",
              "Casal usando perucas coloridas combinando verde e amarelo",
              "Namorados segurando lanterna chinesa patri√≥tica flutuando",
              "Casal em pose de fotografo e modelo, profissional",
              "Dois fazendo cora√ß√£o com pernas no ar, criativo",
              "Casal vestido de pr√≠ncipe e princesa brasileiros, conto de fadas",
              "Namorados em pose de m√∫sica ao vivo, duo patriota",
              "Casal fazendo tran√ßa humana, interligados verde e amarelo",
              "Dois em pose de esporte ol√≠mpico juntos, time Brasil",
              "Casal usando capas de vampiro verde e amarela, Halloween brasileiro"
            ],
            
            pet: [
              "Cachorro usando bandana do Brasil, l√≠ngua de fora, express√£o alegre e fofa",
              "Gato com la√ßo verde e amarelo no pesco√ßo, olhar curioso, fundo patri√≥tico",
              "Golden retriever segurando bandeirinha do Brasil na boca, foto ador√°vel",
              "Pet vestido com camisa verde e amarela, pose engra√ßada, clima festivo",
              "Cachorro e dono combinando roupas patri√≥ticas, abra√ßo carinhoso",
              "Gato preto e branco com olhos verdes, acess√≥rio amarelo, composi√ß√£o Brasil",
              "Bulldog com bon√© do Brasil virado para tr√°s, express√£o s√©ria e engra√ßada",
              "Papagaio verde e amarelo em pose majestosa, cores naturais do Brasil",
              "Cachorrinho pequeno dentro de chap√©u verde e amarelo, fofo demais",
              "Pet fazendo careta engra√ßada com pintura facial verde e amarela",
              "V√°rios pets juntos, todos com acess√≥rios do Brasil, caos organizado fofo",
              "Cachorro grande protegendo bandeira do Brasil, pose de guardi√£o leal",
              "Gato laranja com gravata verde, olhar sofisticado, patriota felino",
              "Cachorro usando √≥culos de sol verde com lente amarela, cool",
              "Gato sentado dentro de caixa decorada com bandeira Brasil",
              "Pet usando fantasia de super-her√≥i verde e amarelo voando",
              "Cachorro com chap√©u de cowboy patriota, western brasileiro",
              "Gato fazendo yoga pose, mat verde, ambiente zen brasileiro",
              "Pet vestido de marinheiro com uniforme verde e amarelo",
              "Cachorro segurando bola de futebol verde e amarela, jogador",
              "Gato usando gravata borboleta patri√≥tica, gentleman felino",
              "Pet com orelhas de coelho verde decoradas, P√°scoa Brasil",
              "Cachorro usando capa de chuva amarela com botas verdes",
              "Gato branco com coleira de pedras preciosas verde-amarela",
              "Pet dormindo em cama bandeira do Brasil, ador√°vel",
              "Cachorro usando tutu verde com la√ßo amarelo, bailarino",
              "Gato preto com chap√©u de bruxa verde, Halloween Brasil",
              "Pet surfando em prancha verde e amarela, radical",
              "Cachorro usando mochila escolar patri√≥tica, estudante",
              "Gato usando coroa dourada com detalhes verde, realeza",
              "Pet com asa de anjo brancas e halo verde-amarelo",
              "Cachorro vestido de chef com avental verde, cozinheiro",
              "Gato usando smoking preto com gravata verde, elegante",
              "Pet com chifres de rena verde e nariz amarelo, Natal",
              "Cachorro usando kimono verde com faixa amarela, martial",
              "Gato com bigode pintado de verde, engra√ßado",
              "Pet usando capacete de astronauta verde, espacial",
              "Cachorro com piercing falso verde na orelha, punk rock",
              "Gato usando tiara de flores amarelas e verdes, primavera",
              "Pet vestido de pirata com bandana verde, aventureiro",
              "Cachorro usando camiseta regata patri√≥tica, atl√©tico",
              "Gato com coleira de espinhos verde fluorescente, rocker",
              "Pet usando bon√© de baseball virado, street style Brasil",
              "Cachorro com tatuagem falsa de bandeira, bad boy fofo",
              "Gato usando len√ßo de seda verde no pesco√ßo, chique",
              "Pet vestido de enfermeiro com uniforme verde, her√≥i",
              "Cachorro usando suspens√≥rios verde com gravata amarela, formal",
              "Gato com √≥culos de leitura redondos verdes, intelectual",
              "Pet usando fantasia de drag√£o verde e amarelo, m√≠tico",
              "Cachorro com moicano verde estilo punk, rebelde"
            ]
          },
          
          // Estado do guia
          guideState: {
            currentStep: null,
            selectedPersona: null,
            currentPromptIndex: 0,
            bubbleVisible: false
          },
          
          // Prompt para modo avan√ßado
          advancedPrompt: ''
        },
        
        // Products Data
        products: [
          {
            id: 1,
            name: 'Camiseta Brasil Acima de Tudo',
            price: 89.90,
            image: 'public/product-1.jpg',
            badge: 'MAIS VENDIDO',
            selectedSize: 'M',
            quantity: 1
          },
          {
            id: 2,
            name: 'Camiseta √Åguia Brasileira',
            price: 99.90,
            image: 'public/product-2.jpg',
            badge: 'NOVO',
            selectedSize: 'M',
            quantity: 1
          },
          {
            id: 3,
            name: 'Camiseta Deus Fam√≠lia P√°tria',
            price: 94.90,
            image: 'public/product-3.jpg',
            badge: null,
            selectedSize: 'M',
            quantity: 1
          },
          {
            id: 4,
            name: 'Camiseta Ordem e Progresso',
            price: 89.90,
            image: 'public/product-4.jpg',
            badge: null,
            selectedSize: 'M',
            quantity: 1
          },
          {
            id: 5,
            name: 'Camiseta Bras√£o da Rep√∫blica',
            price: 109.90,
            image: 'public/product-5.jpg',
            badge: 'EDI√á√ÉO LIMITADA',
            selectedSize: 'M',
            quantity: 1
          },
          {
            id: 6,
            name: 'Camiseta Liberdade ou Morte',
            price: 99.90,
            image: 'public/product-6.jpg',
            badge: null,
            selectedSize: 'M',
            quantity: 1
          },
          {
            id: 7,
            name: 'Camiseta F√© no Brasil',
            price: 89.90,
            image: 'public/product-7.jpg',
            badge: null,
            selectedSize: 'M',
            quantity: 1
          },
          {
            id: 8,
            name: 'Camiseta Amor Patri√≥tico',
            price: 84.90,
            image: 'public/product-8.jpg',
            badge: 'PROMO√á√ÉO',
            selectedSize: 'M',
            quantity: 1
          }
        ],
        
        // Carousel Products
        carouselProducts: [
          { id: 1, name: 'Brasil Acima de Tudo', price: 89.90, image: 'public/product-1.jpg' },
          { id: 2, name: '√Åguia Brasileira', price: 99.90, image: 'public/product-2.jpg' },
          { id: 3, name: 'Deus Fam√≠lia P√°tria', price: 94.90, image: 'public/product-3.jpg' },
          { id: 4, name: 'Ordem e Progresso', price: 89.90, image: 'public/product-4.jpg' },
          { id: 5, name: 'Bras√£o da Rep√∫blica', price: 109.90, image: 'public/product-5.jpg' },
          { id: 6, name: 'Liberdade ou Morte', price: 99.90, image: 'public/product-6.jpg' },
          { id: 7, name: 'F√© no Brasil', price: 89.90, image: 'public/product-7.jpg' },
          { id: 8, name: 'Amor Patri√≥tico', price: 84.90, image: 'public/product-8.jpg' },
          { id: 9, name: 'Brasil Grande Novamente', price: 94.90, image: 'public/product-9.jpg' },
          { id: 10, name: 'Independ√™ncia ou Morte', price: 129.90, image: 'public/product-10.jpg' }
        ],
        
        // Testimonials
        testimonials: [
          {
            name: 'Carlos Silva',
            avatar: 'public/avatar-1.jpg',
            text: 'Qualidade incr√≠vel! A camiseta √© super confort√°vel e a estampa n√£o desbota. J√° comprei 3 diferentes!'
          },
          {
            name: 'Mariana Costa',
            avatar: 'public/avatar-2.jpg',
            text: 'Entrega r√°pida e atendimento excelente. Minha fam√≠lia toda agora usa BRAVOS BRASIL!'
          },
          {
            name: 'Roberto Mendes',
            avatar: 'public/avatar-3.jpg',
            text: 'Finalmente uma marca que representa nossos valores. Produto de primeira qualidade!'
          },
          {
            name: 'Ana Paula Souza',
            avatar: 'public/avatar-4.jpg',
            text: 'Ameiiii! Tecido macio, costura perfeita. Super recomendo para todos os patriotas!'
          },
          {
            name: 'Lucas Oliveira',
            avatar: 'public/avatar-5.jpg',
            text: 'Comprei para presentear meu pai e ele adorou. J√° vou fazer mais pedidos!'
          },
          {
            name: 'Cristina Lima',
            avatar: 'public/avatar-6.jpg',
            text: 'Excelente custo-benef√≠cio. Camisetas lindas e com significado. Parab√©ns!'
          }
        ],
        
        // FAQs
        faqs: [
          {
            question: 'Quais s√£o os tamanhos dispon√≠veis?',
            answer: 'Trabalhamos com os tamanhos P, M, G e GG. Nossas camisetas t√™m caimento regular. Consulte nossa tabela de medidas na p√°gina do produto para escolher o tamanho ideal.',
            open: false
          },
          {
            question: 'Qual o prazo de entrega?',
            answer: 'O prazo de entrega varia de acordo com sua localiza√ß√£o. Para capitais e regi√µes metropolitanas, em m√©dia 3-7 dias √∫teis. Para demais localidades, 7-15 dias √∫teis. Voc√™ recebe o c√≥digo de rastreamento por e-mail.',
            open: false
          },
          {
            question: 'Quais as formas de pagamento?',
            answer: 'Aceitamos Pix (com 5% de desconto), cart√µes de cr√©dito em at√© 12x, cart√µes de d√©bito e boleto banc√°rio. Todas as transa√ß√µes s√£o seguras e criptografadas.',
            open: false
          },
          {
            question: 'Posso trocar ou devolver?',
            answer: 'Sim! Voc√™ tem at√© 7 dias ap√≥s o recebimento para solicitar a devolu√ß√£o, conforme o C√≥digo de Defesa do Consumidor. Para trocas por tamanho, o prazo √© de 30 dias. O produto deve estar sem uso e com as etiquetas.',
            open: false
          },
          {
            question: 'O tecido √© de boa qualidade?',
            answer: 'Sim! Usamos 100% algod√£o premium de alta gramatura (180g/m¬≤), que proporciona maior durabilidade e conforto. Nossas estampas s√£o em silk screen de alta qualidade, resistentes a lavagens.',
            open: false
          },
          {
            question: 'Voc√™s enviam para todo o Brasil?',
            answer: 'Sim! Enviamos para todos os estados brasileiros. O frete √© GR√ÅTIS para compras acima de R$ 199,00. Para valores abaixo, o custo do frete √© calculado no checkout.',
            open: false
          }
        ],
        
        // Computed
        get cartCount() {
          return this.cart.reduce((total, item) => total + item.quantity, 0);
        },
        
        get cartTotal() {
          return this.cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        },
        
        // Methods
        initApp() {
          // Load cart from localStorage
          const savedCart = localStorage.getItem('bravosbrasil_cart');
          if (savedCart) {
            this.cart = JSON.parse(savedCart);
          }
          
          // Load dark mode preference
          const savedDarkMode = localStorage.getItem('bravosbrasil_darkmode');
          if (savedDarkMode) {
            this.darkMode = JSON.parse(savedDarkMode);
            // Apply to html tag
            if (this.darkMode) {
              document.documentElement.classList.add('dark');
            } else {
              document.documentElement.classList.remove('dark');
            }
          }
          
          // Load stamp cache
          this.loadStampCache();
          
          // Initialize device fingerprint and preview tracking
          this.initializeDeviceTracking();
          
          // Scroll listener for navbar
          window.addEventListener('scroll', () => {
            this.scrolled = window.scrollY > 50;
          });
          
          // Initialize AOS
          AOS.init({
            duration: 800,
            once: true,
            offset: 100
          });
          
          // Initialize Swiper
          this.$nextTick(() => {
            new Swiper('.productSwiper', {
              slidesPerView: 1,
              spaceBetween: 20,
              loop: true,
              autoplay: {
                delay: 3000,
                disableOnInteraction: false,
              },
              pagination: {
                el: '.swiper-pagination',
                clickable: true,
              },
              breakpoints: {
                640: {
                  slidesPerView: 2,
                },
                768: {
                  slidesPerView: 3,
                },
                1024: {
                  slidesPerView: 4,
                },
              },
            });
          });
          
          // Check authentication
          this.checkAuth();
          
          // Watch tentativasRestantes for notifications
          this.$watch('geradorEstampas.tentativasRestantes', (newValue, oldValue) => {
            if (oldValue !== undefined && newValue < oldValue && newValue > 0) {
              if (newValue <= 2) {
                this.showToast(`‚ö†Ô∏è Aten√ß√£o! Restam apenas ${newValue} estampas`, 'warning');
              } else if (newValue === 5) {
                this.showToast(`üîî Voc√™ tem ${newValue} estampas restantes`, 'info');
              }
            }
            
            if (newValue === 0 && oldValue !== undefined && oldValue > 0) {
              this.showToast('üö´ Suas estampas acabaram! Compre uma camisa para ganhar +10', 'error');
            }
          });
          
        },
        
        scrollTo(id) {
          const element = document.getElementById(id);
          if (element) {
            const offset = 80;
            const elementPosition = element.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - offset;
            
            window.scrollTo({
              top: offsetPosition,
              behavior: 'smooth'
            });
          }
        },
        
        // Social Proof Control
        pauseSocialProof() {
          const proofComponent = document.querySelector('[x-data*="socialProof"]');
          if (proofComponent && proofComponent.__x) {
            proofComponent.__x.$data.stopNotifications();
          }
        },
        
        resumeSocialProof() {
          const proofComponent = document.querySelector('[x-data*="socialProof"]');
          if (proofComponent && proofComponent.__x) {
            proofComponent.__x.$data.startNotifications();
          }
        },
        
        toggleDarkMode() {
          this.darkMode = !this.darkMode;
          localStorage.setItem('bravosbrasil_darkmode', JSON.stringify(this.darkMode));
          // Apply to html tag
          if (this.darkMode) {
            document.documentElement.classList.add('dark');
          } else {
            document.documentElement.classList.remove('dark');
          }
        },
        
        addToCart(product) {
          const existingItem = this.cart.find(
            item => item.id === product.id && item.size === product.selectedSize
          );
          
          if (existingItem) {
            existingItem.quantity += product.quantity;
          } else {
            this.cart.push({
              id: product.id,
              name: product.name,
              price: product.price,
              image: product.image,
              size: product.selectedSize,
              quantity: product.quantity
            });
          }
          
          this.saveCart();
          this.showToast('Produto adicionado ao carrinho!', 'success');
          
          // Reset quantity
          product.quantity = 1;
        },
        
        removeFromCart(index) {
          this.cart.splice(index, 1);
          this.saveCart();
          this.showToast('Produto removido do carrinho', 'success');
        },
        
        updateQuantity(index, change) {
          const item = this.cart[index];
          const newQuantity = item.quantity + change;
          
          if (newQuantity > 0) {
            item.quantity = newQuantity;
            this.saveCart();
          }
        },
        
        saveCart() {
          localStorage.setItem('bravosbrasil_cart', JSON.stringify(this.cart));
        },
        
        toggleFaq(index) {
          this.faqs[index].open = !this.faqs[index].open;
        },
        
        showToast(message, type = 'success') {
          this.toast.message = message;
          this.toast.type = type;
          this.toast.show = true;
          
          setTimeout(() => {
            this.toast.show = false;
          }, 3000);
        },
        
        async subscribeNewsletter() {
          try {
            const response = await fetch('/api/leads', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                nome: this.newsletter.name,
                email: this.newsletter.email,
                telefone: this.newsletter.phone,
                origem: 'newsletter'
              })
            });
            
            if (response.ok) {
              this.newsletter = { name: '', email: '', phone: '' };
              this.showToast('Cadastro realizado com sucesso!', 'success');
            } else {
              this.showToast('Erro ao cadastrar. Tente novamente.', 'error');
            }
          } catch (error) {
            console.error('Erro ao cadastrar newsletter:', error);
            this.showToast('Erro ao cadastrar. Tente novamente.', 'error');
          }
        },
        
        async fetchAddress() {
          const cep = this.checkout.cep.replace(/\D/g, '');
          if (cep.length === 8) {
            try {
              const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
              const data = await response.json();
              
              if (!data.erro) {
                this.checkout.address = data.logradouro;
                this.checkout.neighborhood = data.bairro;
                this.checkout.city = data.localidade;
                this.checkout.state = data.uf;
              }
            } catch (error) {
              console.error('Erro ao buscar CEP:', error);
            }
          }
        },
        
        async finalizePurchase() {
          if (!this.auth.isAuthenticated) {
            this.geradorEstampas.openLoginModal = true;
            this.showToast('Fa√ßa login para finalizar a compra', 'error');
            return;
          }

          try {
            // Preparar itens para Mercado Pago
            const items = this.cart.map(item => ({
              name: item.name,
              price: item.price,
              quantity: item.quantity,
              image: item.image || item.customDesign || ''
            }));

            // Criar prefer√™ncia de pagamento
            const response = await fetch('/api/payment/create', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${this.auth.token}`
              },
              body: JSON.stringify({ items })
            });

            const data = await response.json();

            if (response.ok) {
              // Redirecionar para Mercado Pago
              const initPoint = data.init_point || data.sandbox_init_point;
              if (initPoint) {
                window.location.href = initPoint;
              } else {
                throw new Error('URL de pagamento n√£o dispon√≠vel');
              }
            } else {
              this.showToast(data.error || 'Erro ao processar pagamento', 'error');
            }
          } catch (error) {
            console.error('Erro ao finalizar compra:', error);
            this.showToast('Erro ao processar pagamento. Tente novamente.', 'error');
          }
        },
        
        // Authentication Methods
        async checkAuth() {
          const token = localStorage.getItem('bravosbrasil_token');
          if (token) {
            this.auth.token = token;
            try {
              const response = await fetch('/api/auth/me', {
                headers: {
                  'Authorization': `Bearer ${token}`
                }
              });
              if (response.ok) {
                const data = await response.json();
                this.auth.user = data.user;
                this.auth.isAuthenticated = true;
                await this.checkTentativas();
                // Recarregar cache ap√≥s autentica√ß√£o
                this.loadStampCache();
              } else {
                this.logout();
              }
            } catch (error) {
              console.error('Erro ao verificar autentica√ß√£o:', error);
            }
          }
        },
        
        async login() {
          try {
            const endpoint = this.geradorEstampas.loginForm.isRegister ? '/api/auth/register' : '/api/auth/login';
            const body = this.geradorEstampas.loginForm.isRegister 
              ? {
                  email: this.geradorEstampas.loginForm.email,
                  password: this.geradorEstampas.loginForm.password,
                  nome: this.geradorEstampas.loginForm.nome,
                  telefone: this.geradorEstampas.loginForm.telefone
                }
              : {
                  email: this.geradorEstampas.loginForm.email,
                  password: this.geradorEstampas.loginForm.password
                };
            
            const response = await fetch(endpoint, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(body)
            });
            
            const data = await response.json();
            
            if (response.ok) {
              this.auth.token = data.token;
              this.auth.user = data.user;
              this.auth.isAuthenticated = true;
              localStorage.setItem('bravosbrasil_token', data.token);
              this.geradorEstampas.tentativasRestantes = data.user.tentativas_restantes;
              // Recarregar cache ap√≥s login
              this.loadStampCache();
              
              // NEW: Handle post-login actions
              const wasSavingStamp = this.geradorEstampas.loginModalContext === 'save_stamp' && this.geradorEstampas.isPreview;
              
              if (wasSavingStamp) {
                // Convert preview to saved stamp
                this.geradorEstampas.isPreview = false;
                
                // Save stamp (call API)
                try {
                  let imagePayload = null;
                  if (this.geradorEstampas.imageFile) {
                    imagePayload = await this.fileToBase64(this.geradorEstampas.imageFile);
                  }
                  
                  const saveResponse = await fetch('/api/stamps/generate', {
                    method: 'POST',
                    headers: {
                      'Content-Type': 'application/json',
                      'Authorization': `Bearer ${this.auth.token}`
                    },
              body: JSON.stringify({
                prompt: (this.geradorEstampas.prompt || '').substring(0, 500), // Garantir m√°ximo de 500 caracteres
                image: imagePayload
              })
                  });
                  
                  const saveData = await saveResponse.json();
                  
                  if (saveResponse.ok) {
                    this.geradorEstampas.generatedImageUrl = saveData.imageUrl;
                    this.geradorEstampas.tentativasRestantes = saveData.tentativas_restantes;
                    this.geradorEstampas.estampaId = saveData.estampa_id;
                    
                    // Salvar no cache
                    this.saveStampToCache({
                      id: saveData.estampa_id,
                      imageUrl: saveData.imageUrl,
                      prompt: this.geradorEstampas.prompt,
                      timestamp: Date.now()
                    });
                    
                    // Auto-add to cart
                    await this.addToCartWithStamp();
                    
                    this.showToast('‚úÖ Estampa salva e adicionada ao carrinho!', 'success');
                  } else {
                    this.showToast('Erro ao salvar estampa', 'error');
                  }
                } catch (error) {
                  console.error('Erro ao salvar estampa:', error);
                  this.showToast('Erro ao salvar estampa', 'error');
                }
              }
              
              this.geradorEstampas.openLoginModal = false;
              this.geradorEstampas.loginModalContext = null;
              
              if (!wasSavingStamp) {
                this.showToast('Login realizado com sucesso!', 'success');
              }
            } else {
              this.showToast(data.error || 'Erro ao fazer login', 'error');
            }
          } catch (error) {
            console.error('Erro no login:', error);
            this.showToast('Erro ao fazer login. Tente novamente.', 'error');
          }
        },
        
        logout() {
          this.auth.token = null;
          this.auth.user = null;
          this.auth.isAuthenticated = false;
          this.geradorEstampas.tentativasRestantes = 0;
          this.geradorEstampas.cacheEstampas = [];
          localStorage.removeItem('bravosbrasil_token');
          this.showToast('Logout realizado', 'success');
        },
        
        // Gerador de Estampas Methods
        async checkTentativas() {
          if (!this.auth.isAuthenticated) return;
          
          try {
            const response = await fetch('/api/stamps/remaining', {
              headers: {
                'Authorization': `Bearer ${this.auth.token}`
              }
            });
            
            if (response.ok) {
              const data = await response.json();
              this.geradorEstampas.tentativasRestantes = data.tentativas_restantes;
            }
          } catch (error) {
            console.error('Erro ao verificar tentativas:', error);
          }
        },
        
        // Cache Management
        loadStampCache() {
          try {
            const userId = this.auth.user?.id || 'guest';
            const cacheKey = `bravosbrasil_stamp_cache_${userId}`;
            const savedCache = localStorage.getItem(cacheKey);
            if (savedCache) {
              this.geradorEstampas.cacheEstampas = JSON.parse(savedCache);
            } else {
              this.geradorEstampas.cacheEstampas = [];
            }
          } catch (error) {
            console.error('Erro ao carregar cache:', error);
            this.geradorEstampas.cacheEstampas = [];
          }
        },
        
        saveStampToCache(estampa) {
          try {
            const userId = this.auth.user?.id || 'guest';
            const cacheKey = `bravosbrasil_stamp_cache_${userId}`;
            
            // Adiciona timestamp se n√£o tiver
            if (!estampa.timestamp) {
              estampa.timestamp = Date.now();
            }
            if (!estampa.id) {
              estampa.id = 'cache_' + Date.now();
            }
            
            this.geradorEstampas.cacheEstampas.push(estampa);
            localStorage.setItem(cacheKey, JSON.stringify(this.geradorEstampas.cacheEstampas));
          } catch (error) {
            console.error('Erro ao salvar no cache:', error);
          }
        },
        
        removeStampFromCache(estampaId) {
          try {
            const userId = this.auth.user?.id || 'guest';
            const cacheKey = `bravosbrasil_stamp_cache_${userId}`;
            
            this.geradorEstampas.cacheEstampas = this.geradorEstampas.cacheEstampas.filter(
              e => e.id !== estampaId
            );
            localStorage.setItem(cacheKey, JSON.stringify(this.geradorEstampas.cacheEstampas));
          } catch (error) {
            console.error('Erro ao remover do cache:', error);
          }
        },
        
        getCacheCount() {
          return this.geradorEstampas.cacheEstampas.length;
        },
        
        checkCacheLimit() {
          return this.getCacheCount() >= 10;
        },
        
        confirmDeleteAndGenerate(estampaId) {
          if (!estampaId) {
            this.showToast('Selecione uma estampa para excluir', 'error');
            return;
          }
          this.removeStampFromCache(estampaId);
          this.geradorEstampas.openCacheModal = false;
          this.geradorEstampas.estampaParaExcluir = null;
          // Continua com a gera√ß√£o
          this.generateStampInternal();
        },
        
        cancelCacheModal() {
          this.geradorEstampas.openCacheModal = false;
          this.geradorEstampas.estampaParaExcluir = null;
        },
        
        // Device Tracking (Prevent multiple previews from same device)
        generateDeviceFingerprint() {
          try {
            const components = [];
            
            // User Agent
            components.push(navigator.userAgent || '');
            
            // Screen Resolution
            components.push(`${screen.width}x${screen.height}`);
            components.push(`${screen.availWidth}x${screen.availHeight}`);
            
            // Color Depth
            components.push(screen.colorDepth || '');
            
            // Timezone
            components.push(Intl.DateTimeFormat().resolvedOptions().timeZone || '');
            
            // Language
            components.push(navigator.language || '');
            components.push(navigator.languages?.join(',') || '');
            
            // Platform
            components.push(navigator.platform || '');
            
            // Hardware Concurrency
            components.push(navigator.hardwareConcurrency || '');
            
            // Canvas Fingerprint (more reliable)
            try {
              const canvas = document.createElement('canvas');
              canvas.width = 200;
              canvas.height = 50;
              const ctx = canvas.getContext('2d');
              ctx.textBaseline = 'top';
              ctx.font = '14px Arial';
              ctx.fillStyle = '#f60';
              ctx.fillRect(125, 1, 62, 20);
              ctx.fillStyle = '#069';
              ctx.fillText('BRAVOS-BRASIL-FP', 2, 15);
              ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
              ctx.fillText('BRAVOS-BRASIL-FP', 4, 17);
              components.push(canvas.toDataURL());
            } catch (e) {
              components.push('canvas-error');
            }
            
            // WebGL Fingerprint
            try {
              const gl = document.createElement('canvas').getContext('webgl');
              if (gl) {
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                if (debugInfo) {
                  components.push(gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL));
                  components.push(gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL));
                }
              }
            } catch (e) {
              components.push('webgl-error');
            }
            
            // Combine all components and create hash
            const fingerprintString = components.join('|');
            
            // Simple hash function
            let hash = 0;
            for (let i = 0; i < fingerprintString.length; i++) {
              const char = fingerprintString.charCodeAt(i);
              hash = ((hash << 5) - hash) + char;
              hash = hash & hash; // Convert to 32bit integer
            }
            
            return Math.abs(hash).toString(36);
          } catch (error) {
            console.error('Erro ao gerar fingerprint:', error);
            // Fallback: use timestamp + random
            return 'fp_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
          }
        },
        
        initializeDeviceTracking() {
          try {
            // Generate fingerprint (always generate fresh to ensure consistency)
            const fingerprint = this.generateDeviceFingerprint();
            this.geradorEstampas.deviceFingerprint = fingerprint;
            
            // Load preview count from localStorage
            const storageKey = `bravosbrasil_previews_${fingerprint}`;
            const savedData = localStorage.getItem(storageKey);
            
            if (savedData) {
              try {
                const data = JSON.parse(savedData);
                this.geradorEstampas.previewsGeradas = data.count || 0;
                
                // Check if data is too old (optional: reset after 24h)
                // Descomente as linhas abaixo se quiser resetar ap√≥s 24h
                // const oneDayAgo = Date.now() - (24 * 60 * 60 * 1000);
                // if (data.timestamp && data.timestamp < oneDayAgo) {
                //   this.geradorEstampas.previewsGeradas = 0;
                //   localStorage.setItem(storageKey, JSON.stringify({ count: 0, timestamp: Date.now() }));
                // }
              } catch (e) {
                // Se houver erro ao parsear, resetar
                this.geradorEstampas.previewsGeradas = 0;
              }
            } else {
              this.geradorEstampas.previewsGeradas = 0;
            }
          } catch (error) {
            console.error('Erro ao inicializar tracking:', error);
            this.geradorEstampas.previewsGeradas = 0;
            // Tentar gerar fingerprint de fallback
            try {
              this.geradorEstampas.deviceFingerprint = 'fp_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            } catch (e) {
              this.geradorEstampas.deviceFingerprint = 'fp_error';
            }
          }
        },
        
        checkPreviewLimit() {
          // Limite de 1 preview por dispositivo (pode ajustar se necess√°rio)
          const MAX_PREVIEWS = 1;
          return this.geradorEstampas.previewsGeradas >= MAX_PREVIEWS;
        },
        
        incrementPreviewCount() {
          try {
            const fingerprint = this.geradorEstampas.deviceFingerprint || this.generateDeviceFingerprint();
            this.geradorEstampas.deviceFingerprint = fingerprint;
            
            this.geradorEstampas.previewsGeradas = (this.geradorEstampas.previewsGeradas || 0) + 1;
            
            // Save to localStorage
            const storageKey = `bravosbrasil_previews_${fingerprint}`;
            localStorage.setItem(storageKey, JSON.stringify({
              count: this.geradorEstampas.previewsGeradas,
              timestamp: Date.now()
            }));
          } catch (error) {
            console.error('Erro ao incrementar contador:', error);
          }
        },
        
        handleFileUpload(event) {
          const files = event.target.files;
          
          // Limitar a apenas 1 arquivo
          if (files.length > 1) {
            this.showToast('‚ö†Ô∏è Apenas 1 imagem por vez √© permitida. A primeira imagem ser√° usada.', 'warning');
          }
          
          const file = files[0];
          if (file) {
            // Validar tamanho (opcional: 5MB)
            const maxSize = 5 * 1024 * 1024; // 5MB
            if (file.size > maxSize) {
              this.showToast('‚ö†Ô∏è A imagem √© muito grande. Use uma imagem menor que 5MB.', 'error');
              event.target.value = ''; // Limpar input
              return;
            }
            
            this.geradorEstampas.imageFile = file;
            const reader = new FileReader();
            reader.onloadend = () => {
              this.geradorEstampas.imagePreview = reader.result;
            };
            reader.readAsDataURL(file);
          }
          
          // Limpar input para permitir selecionar o mesmo arquivo novamente se necess√°rio
          event.target.value = '';
        },
        
        clearImage() {
          this.geradorEstampas.imageFile = null;
          this.geradorEstampas.imagePreview = null;
        },
        
        fileToBase64(file) {
          return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onload = () => {
              const result = reader.result;
              const base64Data = result.split(',')[1];
              resolve({ data: base64Data, mimeType: file.type });
            };
            reader.onerror = reject;
            reader.readAsDataURL(file);
          });
        },
        
        async generateStamp() {
          // Verificar limite de cache ANTES de gerar (apenas para usu√°rios autenticados)
          if (this.auth.isAuthenticated && this.checkCacheLimit()) {
            // Cache cheio (10 estampas), mostrar modal para excluir uma
            this.geradorEstampas.openCacheModal = true;
            return;
          }
          
          // Se n√£o est√° no limite, prosseguir com a gera√ß√£o
          await this.generateStampInternal();
        },
        
        async generateStampInternal() {
          // LAZY LOGIN: Allow generation without authentication (preview mode)
          const isPreview = !this.auth.isAuthenticated;
          
          if (isPreview) {
            // Verificar limite de previews por dispositivo
            if (this.checkPreviewLimit()) {
              this.showToast('‚ö†Ô∏è Voc√™ j√° gerou uma pr√©via neste dispositivo. Fa√ßa login para continuar gerando estampas!', 'warning');
              this.geradorEstampas.openLoginModal = true;
              this.geradorEstampas.loginModalContext = 'preview_limit';
              return;
            }
            
            // Client-side preview generation (placeholder)
            this.geradorEstampas.isLoading = true;
            this.geradorEstampas.error = null;
            this.geradorEstampas.generatedImageUrl = null;
            
            // Incrementar contador de previews ANTES de gerar
            this.incrementPreviewCount();
            
            // Simulate API delay
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Generate placeholder image with canvas (green/yellow gradient + text)
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 1024;
            const ctx = canvas.getContext('2d');
            
            // Gradient background (Brasil colors)
            const gradient = ctx.createLinearGradient(0, 0, 0, 1024);
            gradient.addColorStop(0, '#00843D');
            gradient.addColorStop(0.5, '#009c4a');
            gradient.addColorStop(1, '#FFCC29');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 1024, 1024);
            
            // Add text
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'bold 60px "Bebas Neue", sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('BRAVOS BRASIL', 512, 100);
            
            ctx.font = '36px Arial';
            ctx.fillStyle = '#FFCC29';
            const promptText = this.geradorEstampas.prompt || 'ESTAMPA COM IDENTIDADE NACIONAL';
            const words = promptText.split(' ');
            let line = '';
            let y = 512;
            
            words.forEach(word => {
              const testLine = line + word + ' ';
              if (ctx.measureText(testLine).width > 900 && line.length > 0) {
                ctx.fillText(line, 512, y);
                line = word + ' ';
                y += 45;
              } else {
                line = testLine;
              }
            });
            ctx.fillText(line, 512, y);
            
            // Set preview result
            this.geradorEstampas.generatedImageUrl = canvas.toDataURL('image/png');
            this.geradorEstampas.isPreview = true;
            this.geradorEstampas.isLoading = false;
            
            // Show warning toast (Portuguese-BR)
            this.showToast('‚ö†Ô∏è Esta √© uma pr√©via. Fa√ßa login para salvar e adicionar ao carrinho', 'warning');
            
            return;
          }
          
          // Authenticated generation (existing logic)
          if (this.geradorEstampas.tentativasRestantes <= 0) {
            this.showToast('‚ö†Ô∏è Voc√™ esgotou suas estampas! Fa√ßa uma compra para ganhar mais 10 estampas gr√°tis.', 'error');
            return;
          }
          
          this.geradorEstampas.isLoading = true;
          this.geradorEstampas.error = null;
          this.geradorEstampas.generatedImageUrl = null;
          this.geradorEstampas.isPreview = false;
          
          try {
            let imagePayload = null;
            if (this.geradorEstampas.imageFile) {
              imagePayload = await this.fileToBase64(this.geradorEstampas.imageFile);
            }
            
            // Validar e limitar prompt a 500 caracteres
            const promptLimitado = (this.geradorEstampas.prompt || '').substring(0, 500);
            
            const response = await fetch('/api/stamps/generate', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${this.auth.token}`
              },
              body: JSON.stringify({
                prompt: promptLimitado,
                image: imagePayload
              })
            });
            
            const data = await response.json();
            
            if (response.ok) {
              this.geradorEstampas.generatedImageUrl = data.imageUrl;
              // Animate before updating tentativas
              setTimeout(() => {
                this.geradorEstampas.tentativasRestantes = data.tentativas_restantes;
              }, 300);
              this.geradorEstampas.estampaId = data.estampa_id;
              this.geradorEstampas.isPreview = false;
              
              // Salvar no cache
              this.saveStampToCache({
                id: data.estampa_id,
                imageUrl: data.imageUrl,
                prompt: this.geradorEstampas.prompt,
                timestamp: Date.now()
              });
              
              this.showToast('üéâ Sua estampa est√° pronta!', 'success');
            } else {
              this.geradorEstampas.error = data.error || '‚ö†Ô∏è N√£o conseguimos gerar agora. Verifique sua conex√£o e tente novamente.';
              this.showToast('‚ö†Ô∏è N√£o conseguimos gerar agora. Verifique sua conex√£o e tente novamente.', 'error');
            }
          } catch (error) {
            console.error('Erro ao gerar estampa:', error);
            this.geradorEstampas.error = '‚ö†Ô∏è N√£o conseguimos gerar agora. Verifique sua conex√£o e tente novamente.';
            this.showToast('‚ö†Ô∏è N√£o conseguimos gerar agora. Verifique sua conex√£o e tente novamente.', 'error');
          } finally {
            this.geradorEstampas.isLoading = false;
          }
        },
        
        async addToCartWithStamp() {
          if (!this.geradorEstampas.generatedImageUrl) {
            this.showToast('Gere uma estampa primeiro!', 'error');
            return;
          }
          
          // NEW: Check if it's a preview
          if (this.geradorEstampas.isPreview) {
            // Open login modal with persuasive context
            this.geradorEstampas.loginModalContext = 'save_stamp';
            this.geradorEstampas.openLoginModal = true;
            return;
          }
          
          const customProduct = {
            id: 'custom-' + Date.now(),
            name: 'Camiseta Personalizada - ' + (this.geradorEstampas.prompt || 'Estampa Personalizada'),
            price: 99.90,
            image: this.geradorEstampas.generatedImageUrl,
            size: 'M',
            quantity: 1,
            isCustom: true,
            customDesign: this.geradorEstampas.generatedImageUrl,
            estampaId: this.geradorEstampas.estampaId
          };
          
          // Atualizar status da estampa no backend
          if (this.geradorEstampas.estampaId && this.auth.token) {
            try {
              await fetch('/api/stamps/update-status', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                  'Authorization': `Bearer ${this.auth.token}`
                },
                body: JSON.stringify({ 
                  estampaId: this.geradorEstampas.estampaId,
                  status: 'no_carrinho' 
                })
              });
            } catch (error) {
              console.error('Erro ao atualizar status da estampa:', error);
            }
          }
          
          this.addToCart(customProduct);
          this.showToast('Estampa adicionada ao carrinho!', 'success');
        },
        
        // Wizard Mode Methods
        buildWizardPrompt() {
          const wizard = this.geradorEstampas.wizard;
          
          if (!wizard.style || !wizard.theme) {
            return 'Selecione o estilo e tema acima para ver o prompt...';
          }
          
          // Style descriptions
          const styleMap = {
            minimalista: 'estilo minimalista e clean',
            realista: 'estilo foto-realista e detalhado',
            ilustracao: 'estilo ilustra√ß√£o desenhada √† m√£o',
            vintage: 'estilo vintage retr√¥ anos 80',
            abstrato: 'estilo abstrato com formas geom√©tricas',
            aquarela: 'estilo aquarela pintada',
            graffiti: 'estilo graffiti street art urbano',
            pixel: 'estilo pixel art 8-bit retr√¥'
          };
          
          // Theme descriptions
          const themeMap = {
            bandeira: 'bandeira do Brasil com destaque',
            aguia: '√°guia brasileira majestosa em voo',
            cristo: 'Cristo Redentor monumental',
            amazonia: 'floresta amaz√¥nica exuberante',
            ordem: 'frase ORDEM E PROGRESSO em destaque',
            ipiranga: 'Grito do Ipiranga hist√≥rico',
            verde_amarelo: 'cores verde e amarelo do Brasil',
            onca: 'on√ßa pintada brasileira poderosa',
            futebol: 'tem√°tica futebol brasileiro'
          };
          
          // Color descriptions
          const colorMap = {
            verde_amarelo: 'cores verde #00843D e amarelo #FFCC29',
            verde: 'tons de verde brasileiro',
            amarelo: 'tons de amarelo vibrante',
            azul: 'tons de azul brasileiro',
            vibrante: 'cores vibrantes e saturadas'
          };
          
          let prompt = `Crie uma estampa com identidade nacional brasileira profissional para camiseta: `;
          prompt += `${themeMap[wizard.theme]}, `;
          prompt += `${styleMap[wizard.style]}, `;
          prompt += `${colorMap[wizard.colors]}, `;
          prompt += `alta resolu√ß√£o 1024x1024px, `;
          prompt += `fundo transparente, `;
          prompt += `design centralizado para silk screen`;
          
          if (wizard.customDetails.trim()) {
            prompt += `, ${wizard.customDetails.trim()}`;
          }
          
          return prompt;
        },
        
        async generateFromWizard() {
          // Build prompt from wizard selections
          const finalPrompt = this.buildWizardPrompt();
          
          // Set it to the main prompt field
          this.geradorEstampas.prompt = finalPrompt;
          
          // Call the existing generate function
          await this.generateStamp();
          
          // Reset wizard
          this.geradorEstampas.wizardStep = 1;
          this.geradorEstampas.wizard = {
            style: null,
            theme: null,
            colors: 'verde_amarelo',
            customDetails: ''
          };
        },
        
        // Fun√ß√µes do guia
        selectPersona(persona) {
          this.geradorEstampas.guideState.selectedPersona = persona;
          this.geradorEstampas.guideState.currentPromptIndex = Math.floor(Math.random() * this.geradorEstampas.promptDatabase[persona].length);
          this.geradorEstampas.guideState.currentStep = 'prompt-suggestion';
        },
        
        refreshPrompt() {
          const persona = this.geradorEstampas.guideState.selectedPersona;
          if (!persona) return;
          
          // Evita repetir o mesmo prompt
          let newIndex;
          do {
            newIndex = Math.floor(Math.random() * this.geradorEstampas.promptDatabase[persona].length);
          } while (newIndex === this.geradorEstampas.guideState.currentPromptIndex && this.geradorEstampas.promptDatabase[persona].length > 1);
          
          this.geradorEstampas.guideState.currentPromptIndex = newIndex;
        },
        
        usePromptSuggestion() {
          const persona = this.geradorEstampas.guideState.selectedPersona;
          const prompt = this.geradorEstampas.promptDatabase[persona][this.geradorEstampas.guideState.currentPromptIndex];
          this.geradorEstampas.prompt = prompt;
          this.geradorEstampas.guideState.currentStep = 'prompt-applied';
          
          // Mudar para modo avan√ßado para mostrar o textarea
          this.geradorEstampas.advancedMode = true;
          
          // Scroll suave para o textarea
          setTimeout(() => {
            const textarea = document.querySelector('#advanced-prompt-textarea');
            if (textarea) {
              textarea.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
              });
              textarea.focus();
            }
          }, 100);
        }
      }
    }

    // ============================================
    // SOCIAL PROOF NOTIFICATIONS
    // ============================================
    function socialProof() {
      return {
        currentNotification: null,
        notificationQueue: [],
        isRunning: false,
        
        // Pool of realistic Brazilian names
        names: [
          { name: 'Jo√£o Pedro S.', city: 'S√£o Paulo, SP', initial: 'JP' },
          { name: 'Ana Maria L.', city: 'Rio de Janeiro, RJ', initial: 'AM' },
          { name: 'Carlos Roberto M.', city: 'Belo Horizonte, MG', initial: 'CR' },
          { name: 'Mariana Silva', city: 'Curitiba, PR', initial: 'MS' },
          { name: 'Ricardo Alves', city: 'Porto Alegre, RS', initial: 'RA' },
          { name: 'Juliana Costa', city: 'Bras√≠lia, DF', initial: 'JC' },
          { name: 'Fernando Santos', city: 'Salvador, BA', initial: 'FS' },
          { name: 'Camila Oliveira', city: 'Recife, PE', initial: 'CO' },
          { name: 'Lucas Ferreira', city: 'Fortaleza, CE', initial: 'LF' },
          { name: 'Beatriz Lima', city: 'Manaus, AM', initial: 'BL' },
          { name: 'Gabriel Souza', city: 'Goi√¢nia, GO', initial: 'GS' },
          { name: 'Patricia Rocha', city: 'Bel√©m, PA', initial: 'PR' },
          { name: 'Thiago Mendes', city: 'Vit√≥ria, ES', initial: 'TM' },
          { name: 'Renata Castro', city: 'Florian√≥polis, SC', initial: 'RC' },
          { name: 'Andr√© Barbosa', city: 'Campo Grande, MS', initial: 'AB' }
        ],
        
        // Action templates
        actions: [
          { type: 'generated', text: 'acabou de criar uma estampa' },
          { type: 'generated', text: 'gerou uma estampa com identidade nacional' },
          { type: 'cart', text: 'adicionou ao carrinho' },
          { type: 'cart', text: 'selecionou uma camisa personalizada' },
          { type: 'purchase', text: 'finalizou uma compra' },
          { type: 'purchase', text: 'comprou uma camisa customizada' }
        ],
        
        startNotifications() {
          if (this.isRunning) return;
          this.isRunning = true;
          
          // Show first notification after 5 seconds
          setTimeout(() => {
            this.showNextNotification();
          }, 5000);
        },
        
        showNextNotification() {
          if (!this.isRunning) return;
          
          // Generate random notification
          const randomPerson = this.names[Math.floor(Math.random() * this.names.length)];
          const randomAction = this.actions[Math.floor(Math.random() * this.actions.length)];
          const randomMinutes = Math.floor(Math.random() * 5) + 1;
          
          this.currentNotification = {
            name: randomPerson.name,
            city: randomPerson.city,
            initial: randomPerson.initial,
            action: randomAction.text,
            type: randomAction.type,
            time: `h√° ${randomMinutes} ${randomMinutes === 1 ? 'minuto' : 'minutos'}`
          };
          
          // Hide after 5 seconds
          setTimeout(() => {
            this.currentNotification = null;
            
            // Show next after random delay (15-30 seconds)
            const nextDelay = (Math.floor(Math.random() * 15) + 15) * 1000;
            setTimeout(() => {
              this.showNextNotification();
            }, nextDelay);
          }, 5000);
        },
        
        stopNotifications() {
          this.isRunning = false;
          this.currentNotification = null;
        }
      };
    }

    // ============================================
    // EXIT INTENT MODAL
    // ============================================
    function exitIntent() {
      return {
        showModal: false,
        hasTriggered: false,
        isAuthenticated: false,
        attemptsRemaining: 0,
        lastY: 0,
        
        initExitIntent() {
          // Check if already triggered in this session
          if (sessionStorage.getItem('exitIntentShown')) {
            this.hasTriggered = true;
            return;
          }
          
          // Get auth state from main app periodically
          setInterval(() => {
            this.updateAuthState();
          }, 1000);
          
          // Initial update
          setTimeout(() => {
            this.updateAuthState();
          }, 500);
          
          // Track mouse movement
          document.addEventListener('mousemove', (e) => this.handleMouseMove(e));
          
          // Also trigger on mobile back button (experimental)
          if ('onbeforeunload' in window) {
            window.addEventListener('beforeunload', (e) => {
              if (!this.hasTriggered && !this.showModal) {
                // Note: Most browsers ignore custom messages now
                // But we can still trigger our modal
                this.triggerModal();
              }
            });
          }
          
          // Mobile: trigger on back button
          if ('ontouchstart' in window) {
            window.addEventListener('popstate', () => {
              if (!this.hasTriggered) {
                this.triggerModal();
              }
            });
          }
        },
        
        updateAuthState() {
          const mainApp = document.querySelector('[x-data*="storeApp"]');
          if (mainApp && mainApp.__x) {
            this.isAuthenticated = mainApp.__x.$data.auth.isAuthenticated || false;
            this.attemptsRemaining = mainApp.__x.$data.geradorEstampas?.tentativasRestantes || 0;
          }
        },
        
        handleMouseMove(e) {
          // Detect upward movement toward browser controls
          if (e.clientY < 50 && this.lastY >= 50 && !this.hasTriggered) {
            // Mouse moved from page into browser UI area
            this.triggerModal();
          }
          this.lastY = e.clientY;
        },
        
        triggerModal() {
          if (this.hasTriggered) return;
          
          // Don't show if user just arrived (< 10 seconds on page)
          const timeOnPage = Date.now() - (window.pageLoadTime || Date.now());
          if (timeOnPage < 10000) return;
          
          // Update auth state before showing
          this.updateAuthState();
          
          // Don't show if user already generated a stamp
          const mainApp = document.querySelector('[x-data*="storeApp"]');
          if (mainApp && mainApp.__x) {
            const hasGenerated = mainApp.__x.$data.geradorEstampas.generatedImageUrl;
            if (hasGenerated) return;
          }
          
          this.showModal = true;
          this.hasTriggered = true;
          sessionStorage.setItem('exitIntentShown', 'true');
          
          // Track event (if you have analytics)
          // gtag('event', 'exit_intent_shown');
        },
        
        closeModal() {
          this.showModal = false;
        },
        
        closeAndScrollToGenerator() {
          this.closeModal();
          setTimeout(() => {
            const element = document.getElementById('gerador-estampas');
            if (element) {
              const offset = 80;
              const elementPosition = element.getBoundingClientRect().top;
              const offsetPosition = elementPosition + window.pageYOffset - offset;
              window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
              });
            }
          }, 300);
        },
        
        openSignupAndClose() {
          this.closeModal();
          setTimeout(() => {
            const mainApp = document.querySelector('[x-data*="storeApp"]');
            if (mainApp && mainApp.__x) {
              mainApp.__x.$data.geradorEstampas.openLoginModal = true;
            }
          }, 300);
        }
      };
    }
  </script>
  
  <!-- Alpine.js -->
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <!-- Structured Data JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "BRAVOS BRASIL",
    "url": "https://bravosbrasil.com.br",
    "logo": "https://bravosbrasil.com.br/logo.png",
    "description": "Loja de camisetas premium patri√≥ticas brasileiras",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "BR"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "customer service",
      "availableLanguage": "Portuguese"
    },
    "sameAs": [
      "https://instagram.com/bravosbrasil",
      "https://facebook.com/bravosbrasil"
    ]
  }
  </script>
  
  <!-- Google Analytics 4 (placeholder - uncomment and add your ID) -->
  <!--
  <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'GA_MEASUREMENT_ID');
  </script>
  -->
  
  <!-- Meta Pixel (placeholder - uncomment and add your ID) -->
  <!--
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', 'YOUR_PIXEL_ID');
    fbq('track', 'PageView');
  </script>
  -->
  
  <style>
    /* ============================================ */
    /* CRITICAL CSS - INLINE FOR PERFORMANCE */
    /* ============================================ */
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      overflow-x: hidden;
    }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #00843D;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #006B32;
    }
    
    /* Parallax Effect */
    .parallax {
      background-attachment: fixed;
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
    }
    
    @media (max-width: 768px) {
      .parallax {
        background-attachment: scroll;
      }
    }
    
    /* Hero Overlay Gradient */
    .hero-overlay {
      background: linear-gradient(135deg, rgba(0, 132, 61, 0.85) 0%, rgba(0, 39, 118, 0.75) 100%);
    }
    
    .dark .hero-overlay {
      background: linear-gradient(135deg, rgba(0, 60, 28, 0.9) 0%, rgba(0, 20, 60, 0.85) 100%);
    }
    
    /* Wavy Background */
    .wavy-bg {
      background: linear-gradient(135deg, #00843D 0%, #00A34C 50%, #00843D 100%);
      position: relative;
    }
    
    .wavy-bg::before {
      content: '';
      position: absolute;
      top: -50px;
      left: 0;
      width: 100%;
      height: 100px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 100'%3E%3Cpath fill='%23ffffff' d='M0,40 C360,100 1080,0 1440,60 L1440,0 L0,0 Z'/%3E%3C/svg%3E") no-repeat;
      background-size: cover;
    }
    
    .wavy-bg::after {
      content: '';
      position: absolute;
      bottom: -50px;
      left: 0;
      width: 100%;
      height: 100px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 100'%3E%3Cpath fill='%23ffffff' d='M0,60 C360,0 1080,100 1440,40 L1440,100 L0,100 Z'/%3E%3C/svg%3E") no-repeat;
      background-size: cover;
    }
    
    .dark .wavy-bg::before,
    .dark .wavy-bg::after {
      filter: invert(1);
    }
    
    /* Card Hover Effects */
    .product-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .product-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 132, 61, 0.2);
    }
    
    .product-card:hover .product-image {
      transform: scale(1.05);
    }
    
    .product-image {
      transition: transform 0.5s ease;
    }
    
    /* Button Pulse Animation */
    .btn-pulse {
      animation: pulse-border 2s infinite;
    }
    
    @keyframes pulse-border {
      0% {
        box-shadow: 0 0 0 0 rgba(255, 204, 41, 0.7);
      }
      70% {
        box-shadow: 0 0 0 15px rgba(255, 204, 41, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(255, 204, 41, 0);
      }
    }
    
    /* Cart Sidebar */
    .cart-sidebar {
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
    }
    
    .cart-sidebar.open {
      transform: translateX(0);
    }
    
    /* Toast Notification */
    .toast {
      transform: translateX(150%);
      transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    
    .toast.show {
      transform: translateX(0);
    }
    
    /* Quantity Selector */
    .qty-btn {
      transition: all 0.2s ease;
    }
    
    .qty-btn:hover {
      background-color: #00843D;
      color: white;
    }
    
    /* Accordion */
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    
    .accordion-content.open {
      max-height: 500px;
    }
    
    /* Counter Animation */
    .counter {
      font-variant-numeric: tabular-nums;
    }
    
    /* Swiper Customization */
    .swiper-pagination-bullet-active {
      background-color: #00843D !important;
    }
    
    .dark .swiper-pagination-bullet-active {
      background-color: #FFCC29 !important;
    }
    
    /* Dark Mode Transitions */
    body, .bg-white, .bg-gray-50, .bg-gray-100 {
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    /* Testimonial Card */
    .testimonial-card {
      background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
    }
    
    .dark .testimonial-card {
      background: linear-gradient(145deg, #1a1a1a 0%, #0d0d0d 100%);
    }
    
    /* Loading Skeleton */
    .skeleton {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    
    /* Focus Styles for Accessibility */
    *:focus-visible {
      outline: 2px solid #00843D;
      outline-offset: 2px;
    }
    
    /* Skip to Content Link */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: #00843D;
      color: white;
      padding: 8px;
      text-decoration: none;
      z-index: 100;
    }
    
    .skip-link:focus {
      top: 0;
    }
    
    /* Reduced Motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* ============================================
       SPEECH BUBBLE - INTERATIVO COM SCROLL
       ============================================ */
    .wizard-section-wrapper {
      position: relative;
      scroll-margin-top: 100px;
      overflow: visible !important;
    }

    .wizard-bubble-container {
      position: relative;
      overflow: visible !important;
    }

    .wizard-bubble {
      --r: 1em;
      --t: 1.5em;
      
      position: absolute;
      left: -340px;
      top: 40%;
      transform: translateY(-50%) translateX(-100px);
      z-index: 100;
      
      max-width: 300px;
      padding: 1.5em;
      padding-left: 2.5em;
      border-inline: var(--t) solid #0000;
      border-radius: calc(var(--r) + var(--t))/var(--r);
      border-bottom-left-radius: 0 0;
      
      mask:
        radial-gradient(100% 100% at 0% 0, #0000 99%, #000 102%)
        0% 100%/var(--t) var(--t) no-repeat,
        linear-gradient(#000 0 0) padding-box;
        
      background: linear-gradient(135deg, #059669, #FBBF24) border-box;
      color: white;
      font-weight: 600;
      font-size: 0.95rem;
      line-height: 1.6;
      box-shadow: -15px 15px 40px rgba(5, 150, 105, 0.5);
      
      cursor: pointer;
      opacity: 0;
      transition: all 1.2s cubic-bezier(0.22, 1, 0.36, 1);
    }

    .wizard-bubble.show {
      opacity: 1;
      transform: translateY(-50%) translateX(0);
    }

    .wizard-bubble:hover {
      box-shadow: -20px 20px 50px rgba(5, 150, 105, 0.6);
      transform: translateY(-50%) translateX(5px) scale(1.02);
    }

    .wizard-bubble-close {
      position: absolute;
      top: 0.75em;
      left: 0.75em;
      width: 24px;
      height: 24px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .wizard-bubble-close:hover {
      background: rgba(255, 255, 255, 0.5);
      transform: rotate(90deg) scale(1.1);
    }

    .wizard-bubble-close svg {
      width: 14px;
      height: 14px;
      stroke: white;
      stroke-width: 3;
    }

    .wizard-bubble-icon {
      display: inline-block;
      margin-right: 0.5rem;
      font-size: 1.3em;
      animation: wave 2s ease-in-out infinite;
    }

    @keyframes wave {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(20deg); }
      75% { transform: rotate(-20deg); }
    }

    .wizard-bubble-content {
      position: relative;
      z-index: 1;
    }

    .wizard-bubble::before {
      content: '';
      position: absolute;
      right: -8px;
      top: 50%;
      transform: translateY(-50%);
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 10px 0 10px 12px;
      border-color: transparent transparent transparent #FBBF24;
      filter: drop-shadow(2px 0 3px rgba(0,0,0,0.1));
      z-index: 101;
    }

    .wizard-bubble.show::before {
      animation: arrow-pulse 2s ease-in-out infinite;
    }

    @keyframes arrow-pulse {
      0%, 100% { 
        transform: translateY(-50%) translateX(0); 
        opacity: 1;
      }
      50% { 
        transform: translateY(-50%) translateX(5px); 
        opacity: 0.7;
      }
    }

    /* Responsivo - Tablets */
    @media (max-width: 1280px) {
      .wizard-bubble {
        left: -280px;
        max-width: 260px;
        font-size: 0.875rem;
      }
    }

    /* Responsivo - Mobile */
    @media (max-width: 1024px) {
      .wizard-bubble {
        position: static;
        transform: none !important;
        max-width: 100%;
        margin: 1rem 0;
        border-bottom-left-radius: var(--r);
        border-bottom-right-radius: 0 0;
      }
      
      .wizard-bubble.show {
        transform: none !important;
      }
    }

    /* ============================================
       GUIDE SPEECH BUBBLES - CONTEXTUAIS
       ============================================ */

    /* Bubble saindo de CIMA da op√ß√£o */
    .guide-bubble-top {
      --r: 1em;
      --t: 1.5em;
      
      position: absolute;
      bottom: calc(100% + 20px);
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      z-index: 150;
      
      min-width: 280px;
      max-width: 350px;
      padding: 1.25em;
      padding-bottom: calc(1.25em + var(--t));
      border-inline: var(--t) solid #0000;
      border-radius: calc(var(--r) + var(--t))/var(--r);
      border-top-left-radius: 0 0;
      border-top-right-radius: 0 0;
      
      mask:
        radial-gradient(100% 100% at 50% 100%, #0000 99%, #000 102%)
        50% 0%/var(--t) var(--t) no-repeat,
        linear-gradient(#000 0 0) padding-box;
        
      background: linear-gradient(135deg, #059669, #FBBF24) border-box;
      color: white;
      font-weight: 600;
      font-size: 0.9rem;
      line-height: 1.5;
      box-shadow: 0 -10px 30px rgba(5, 150, 105, 0.4);
      
      opacity: 0;
      pointer-events: none;
      transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .guide-bubble-top.show {
      opacity: 1;
      pointer-events: all;
      transform: translateX(-50%) translateY(0);
    }

    /* Bubble para sugest√£o de prompt com bot√£o refresh */
    .prompt-suggestion-bubble {
      position: relative;
      min-width: 320px;
      max-width: 400px;
      padding: 1.5em;
    }

    .prompt-text {
      background: rgba(255, 255, 255, 0.15);
      padding: 1em;
      border-radius: 0.5em;
      margin: 0.75em 0;
      font-size: 0.85em;
      line-height: 1.6;
      font-weight: 500;
      font-style: italic;
    }

    .bubble-actions {
      display: flex;
      gap: 0.5em;
      margin-top: 1em;
    }

    .bubble-btn {
      flex: 1;
      padding: 0.6em 1em;
      border: none;
      border-radius: 0.5em;
      font-weight: 700;
      font-size: 0.85em;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.4em;
    }

    .bubble-btn-primary {
      background: white;
      color: #059669;
    }

    .bubble-btn-primary:hover {
      background: #f0f0f0;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .bubble-btn-secondary {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: 2px solid white;
    }

    .bubble-btn-secondary:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.05);
    }

    /* Container para posicionar bubbles */
    .guide-step-container {
      position: relative;
    }

    /* Anima√ß√£o de pulso para chamar aten√ß√£o */
    @keyframes pulse-glow {
      0%, 100% { 
        box-shadow: 0 0 0 0 rgba(5, 150, 105, 0.4);
      }
      50% { 
        box-shadow: 0 0 0 10px rgba(5, 150, 105, 0);
      }
    }

    .guide-bubble-top.pulse {
      animation: pulse-glow 2s infinite;
    }

    /* Responsivo */
    @media (max-width: 768px) {
      .guide-bubble-top {
        min-width: 240px;
        max-width: 90vw;
        font-size: 0.85rem;
      }
      
      .prompt-suggestion-bubble {
        min-width: 280px;
        max-width: 90vw;
      }
    }
  </style>
  
  <!-- Track Page Load Time for Exit Intent -->
  <script>
    window.pageLoadTime = Date.now();
  </script>
  
  <!-- Acessibilidade - Enter/Space ativam o bal√£o -->
  <script>
    document.addEventListener('alpine:init', () => {
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          const bubble = document.querySelector('.wizard-bubble:focus');
          if (bubble) {
            e.preventDefault();
            bubble.click();
          }
        }
      });
    });
  </script>
</head>
<body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 antialiased" x-data="storeApp()" x-init="initApp()" :class="{ 'dark': darkMode }">
  
  <!-- Skip to Content (Accessibility) -->
  <a href="#main-content" class="skip-link">Pular para o conte√∫do principal</a>
  
  <!-- ============================================ -->
  <!-- NAVBAR -->
  <!-- ============================================ -->
  <nav 
    class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
    :class="scrolled ? 'bg-brasil-green shadow-lg py-2' : 'bg-transparent py-4'"
    role="navigation"
    aria-label="Navega√ß√£o principal"
  >
    <div class="container mx-auto px-4 lg:px-8">
      <div class="flex items-center justify-between">
        <!-- Logo -->
        <a href="#" class="flex items-center space-x-2 group" aria-label="BRAVOS BRASIL - P√°gina inicial">
          <div class="w-10 h-10 bg-brasil-yellow rounded-lg flex items-center justify-center transform group-hover:rotate-12 transition-transform">
            <span class="text-brasil-green font-heading font-bold text-xl">B</span>
          </div>
          <span class="font-heading text-2xl font-bold text-brasil-yellow tracking-wider">BRAVOS BRASIL</span>
        </a>
        
        <!-- Desktop Menu -->
        <div class="hidden lg:flex items-center space-x-8">
          <a href="#inicio" class="text-white hover:text-brasil-yellow transition-colors font-medium" @click.prevent="scrollTo('inicio')">In√≠cio</a>
          <a href="#produtos" class="text-white hover:text-brasil-yellow transition-colors font-medium" @click.prevent="scrollTo('produtos')">Produtos</a>
          <a href="#sobre" class="text-white hover:text-brasil-yellow transition-colors font-medium" @click.prevent="scrollTo('sobre')">Sobre</a>
          <a href="#depoimentos" class="text-white hover:text-brasil-yellow transition-colors font-medium" @click.prevent="scrollTo('depoimentos')">Depoimentos</a>
          <a href="#contato" class="text-white hover:text-brasil-yellow transition-colors font-medium" @click.prevent="scrollTo('contato')">Contato</a>
        </div>
        
        <!-- Right Actions -->
        <div class="flex items-center space-x-4">
          <!-- Login/Logout Button -->
          <button 
            x-show="!auth.isAuthenticated"
            @click="geradorEstampas.openLoginModal = true"
            class="hidden lg:inline-flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white font-medium rounded-full transition-all"
          >
            <i class="fas fa-user mr-2"></i>
            <span>Login</span>
          </button>
          <button 
            x-show="auth.isAuthenticated"
            @click="logout()"
            class="hidden lg:inline-flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white font-medium rounded-full transition-all"
          >
            <i class="fas fa-sign-out-alt mr-2"></i>
            <span>Sair</span>
          </button>
          
          <!-- Dark Mode Toggle -->
          <button 
            @click="toggleDarkMode()"
            class="w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-all"
            :aria-label="darkMode ? 'Ativar modo claro' : 'Ativar modo escuro'"
          >
            <i class="fas" :class="darkMode ? 'fa-sun text-brasil-yellow' : 'fa-moon'"></i>
          </button>
          
          <!-- Cart Button -->
          <button 
            @click="openCart = true"
            class="relative w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-all"
            aria-label="Abrir carrinho"
          >
            <i class="fas fa-shopping-cart"></i>
            <span 
              x-show="cartCount > 0"
              x-text="cartCount"
              class="absolute -top-1 -right-1 w-5 h-5 bg-brasil-yellow text-brasil-green text-xs font-bold rounded-full flex items-center justify-center animate-bounce"
              x-transition:enter="transition ease-out duration-300"
              x-transition:enter-start="scale-0"
              x-transition:enter-end="scale-100"
            ></span>
          </button>
          
          <!-- CTA Button (Desktop) -->
          <a 
            href="#produtos"
            @click.prevent="scrollTo('produtos')"
            class="hidden lg:inline-flex items-center px-6 py-2 bg-brasil-yellow text-brasil-green font-bold rounded-full hover:bg-white transition-all btn-pulse"
          >
            Compre Agora
          </a>
          
          <!-- Mobile Menu Button -->
          <button 
            @click="mobileMenuOpen = !mobileMenuOpen"
            class="lg:hidden w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white"
            aria-label="Toggle menu"
            aria-expanded="mobileMenuOpen"
          >
            <i class="fas" :class="mobileMenuOpen ? 'fa-times' : 'fa-bars'"></i>
          </button>
        </div>
      </div>
      
      <!-- Mobile Menu -->
      <div 
        x-show="mobileMenuOpen"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 -translate-y-4"
        x-transition:enter-end="opacity-100 translate-y-0"
        x-transition:leave="transition ease-in duration-150"
        x-transition:leave-start="opacity-100 translate-y-0"
        x-transition:leave-end="opacity-0 -translate-y-4"
        class="lg:hidden mt-4 pb-4 border-t border-white/20 pt-4"
      >
        <div class="flex flex-col space-y-3">
          <a href="#inicio" @click.prevent="scrollTo('inicio'); mobileMenuOpen = false" class="text-white hover:text-brasil-yellow transition-colors py-2">In√≠cio</a>
          <a href="#produtos" @click.prevent="scrollTo('produtos'); mobileMenuOpen = false" class="text-white hover:text-brasil-yellow transition-colors py-2">Produtos</a>
          <a href="#sobre" @click.prevent="scrollTo('sobre'); mobileMenuOpen = false" class="text-white hover:text-brasil-yellow transition-colors py-2">Sobre</a>
          <a href="#depoimentos" @click.prevent="scrollTo('depoimentos'); mobileMenuOpen = false" class="text-white hover:text-brasil-yellow transition-colors py-2">Depoimentos</a>
          <a href="#contato" @click.prevent="scrollTo('contato'); mobileMenuOpen = false" class="text-white hover:text-brasil-yellow transition-colors py-2">Contato</a>
          <a href="#produtos" @click.prevent="scrollTo('produtos'); mobileMenuOpen = false" class="inline-flex items-center justify-center px-6 py-3 bg-brasil-yellow text-brasil-green font-bold rounded-full mt-2">
            Compre Agora
          </a>
        </div>
      </div>
    </div>
  </nav>

  <main id="main-content">
    <!-- ============================================ -->
    <!-- HERO SECTION -->
    <!-- ============================================ -->
    <section id="inicio" class="relative min-h-screen flex items-center justify-center parallax" style="background-image: url('public/hero-flag.jpg');">
      <div class="absolute inset-0 hero-overlay"></div>
      
      <div class="relative z-10 container mx-auto px-4 lg:px-8 text-center py-32">
        <div data-aos="fade-up" data-aos-duration="1000">
          <span class="inline-block px-4 py-2 bg-brasil-yellow/20 backdrop-blur-sm rounded-full text-brasil-yellow font-semibold text-sm mb-6 border border-brasil-yellow/30">
            <i class="fas fa-star mr-2"></i>100% Algod√£o Brasileiro
          </span>
        </div>
        
        <h1 
          data-aos="fade-up" 
          data-aos-duration="1000" 
          data-aos-delay="100"
          class="font-heading text-5xl md:text-7xl lg:text-8xl font-bold text-white mb-6 leading-tight"
        >
          Vista Seu Orgulho<br>
          <span class="text-brasil-yellow">Brasileiro</span>
        </h1>
        
        <p 
          data-aos="fade-up" 
          data-aos-duration="1000" 
          data-aos-delay="200"
          class="text-xl md:text-2xl text-white/90 mb-10 max-w-2xl mx-auto"
        >
          Camisetas premium com designs exclusivos com identidade nacional. 
          Qualidade incompar√°vel para quem ama o Brasil.
        </p>
        
        <div 
          data-aos="fade-up" 
          data-aos-duration="1000" 
          data-aos-delay="300"
          class="flex flex-col sm:flex-row items-center justify-center gap-4"
        >
          <a 
            href="#produtos"
            @click.prevent="scrollTo('produtos')"
            class="group inline-flex items-center px-8 py-4 bg-brasil-yellow text-brasil-green font-bold text-lg rounded-full hover:bg-white transition-all btn-pulse"
          >
            <span>Ver Cole√ß√£o</span>
            <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
          </a>
          <button 
            @click="openCart = true"
            class="group inline-flex items-center px-8 py-4 bg-white/10 backdrop-blur-sm text-white font-bold text-lg rounded-full border-2 border-white/30 hover:bg-white hover:text-brasil-green transition-all"
          >
            <i class="fas fa-shopping-bag mr-2"></i>
            <span>Comprar Agora</span>
          </button>
        </div>
        
        <!-- Trust Badges -->
        <div 
          data-aos="fade-up" 
          data-aos-duration="1000" 
          data-aos-delay="400"
          class="mt-16 flex flex-wrap items-center justify-center gap-8 text-white/80"
        >
          <div class="flex items-center space-x-2">
            <i class="fas fa-truck text-brasil-yellow text-xl"></i>
            <span class="text-sm">Frete Gr√°tis</span>
          </div>
          <div class="flex items-center space-x-2">
            <i class="fas fa-shield-alt text-brasil-yellow text-xl"></i>
            <span class="text-sm">Compra Segura</span>
          </div>
          <div class="flex items-center space-x-2">
            <i class="fas fa-undo text-brasil-yellow text-xl"></i>
            <span class="text-sm">Troca F√°cil</span>
          </div>
          <div class="flex items-center space-x-2">
            <i class="fas fa-award text-brasil-yellow text-xl"></i>
            <span class="text-sm">Qualidade Premium</span>
          </div>
        </div>
      </div>
      
      <!-- Scroll Indicator -->
      <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <a href="#produtos" @click.prevent="scrollTo('produtos')" class="text-white/60 hover:text-white transition-colors" aria-label="Rolar para produtos">
          <i class="fas fa-chevron-down text-2xl"></i>
        </a>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- GERADOR DE ESTAMPAS -->
    <!-- ============================================ -->
    <section id="wizard-section" class="wizard-section-wrapper py-12 lg:py-16 bg-white dark:bg-gray-900">
      <div class="container mx-auto px-4 lg:px-8">
        <!-- Section Header -->
        <div class="text-center mb-8" data-aos="fade-up">
          <span class="inline-flex items-center gap-2 bg-gradient-to-r from-green-500 to-yellow-500 text-white px-3 py-1.5 rounded-full text-xs font-bold mb-3 shadow-sm">
            IA Generativa
          </span>
          <h2 class="font-heading text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-3">
            üé® Transforme Suas Ideias em <span class="text-brasil-green dark:text-brasil-yellow">Estampas √önicas</span>
          </h2>
          <p class="text-base md:text-lg text-gray-600 dark:text-gray-300 mb-6 max-w-3xl mx-auto">
            Nossa intelig√™ncia artificial cria designs exclusivos com identidade nacional profissionais em <strong>30 segundos</strong>. 
            Sem habilidades de design necess√°rias. <strong class="text-brasil-green">10 designs exclusivos</strong> para come√ßar!
          </p>
        </div>

        <!-- Gerador Container -->
        <div class="max-w-4xl mx-auto" data-aos="fade-up" data-aos-delay="100">
          <!-- Gallery Section - Insert after main header, before form -->
          <div class="mb-8" data-aos="fade-up" data-aos-delay="200">
            <div class="text-center mb-5">
              <h3 class="text-2xl md:text-3xl font-bold text-brasil-green dark:text-white mb-3">
                ‚ú® Veja o que nossos clientes j√° criaram
              </h3>
              <p class="text-gray-600 dark:text-gray-400">
                Inspire-se nas cria√ß√µes de quem j√° est√° usando
              </p>
              
              <!-- Live Activity Indicator -->
              <div class="flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400 mt-4"
                   x-data="{ count: 0 }"
                   x-init="setInterval(() => { count = Math.floor(Math.random() * 3) + 2; }, 3000)">
                <div class="flex items-center gap-1">
                  <span class="relative flex h-3 w-3">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
                  </span>
                  <span class="font-semibold" x-text="count"></span>
                  <span>pessoas criando estampas agora</span>
                </div>
              </div>
            </div>

            <!-- Gallery Grid -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
              
              <!-- Example 1 -->
              <div class="group relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
                <div class="aspect-square bg-gradient-to-br from-brasil-green to-brasil-yellow p-4 flex items-center justify-center">
                  <div class="text-white text-center">
                    <div class="text-6xl mb-2">ü¶Ö</div>
                    <p class="text-sm font-bold">√Åguia Brasileira</p>
                  </div>
                </div>
                <div class="p-3 bg-gray-50 dark:bg-gray-700">
                  <p class="text-xs text-gray-600 dark:text-gray-300 font-semibold">
                    Criado por Jo√£o M.
                  </p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">
                    S√£o Paulo, SP
                  </p>
                </div>
              </div>

              <!-- Example 2 -->
              <div class="group relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
                <div class="aspect-square bg-gradient-to-br from-green-600 to-yellow-400 p-4 flex items-center justify-center">
                  <div class="text-white text-center">
                    <div class="text-6xl mb-2">üáßüá∑</div>
                    <p class="text-sm font-bold">Verde e Amarelo</p>
                  </div>
                </div>
                <div class="p-3 bg-gray-50 dark:bg-gray-700">
                  <p class="text-xs text-gray-600 dark:text-gray-300 font-semibold">
                    Criado por Ana S.
                  </p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">
                    Rio de Janeiro, RJ
                  </p>
                </div>
              </div>

              <!-- Example 3 -->
              <div class="group relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
                <div class="aspect-square bg-gradient-to-br from-yellow-500 to-green-600 p-4 flex items-center justify-center">
                  <div class="text-white text-center">
                    <div class="text-6xl mb-2">‚ö°</div>
                    <p class="text-sm font-bold">Ordem e Progresso</p>
                  </div>
                </div>
                <div class="p-3 bg-gray-50 dark:bg-gray-700">
                  <p class="text-xs text-gray-600 dark:text-gray-300 font-semibold">
                    Criado por Carlos R.
                  </p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">
                    Belo Horizonte, MG
                  </p>
                </div>
              </div>

              <!-- Example 4 -->
              <div class="group relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
                <div class="aspect-square bg-gradient-to-br from-brasil-yellow to-brasil-green p-4 flex items-center justify-center">
                  <div class="text-white text-center">
                    <div class="text-6xl mb-2">üåü</div>
                    <p class="text-sm font-bold">Estrela Solit√°ria</p>
                  </div>
                </div>
                <div class="p-3 bg-gray-50 dark:bg-gray-700">
                  <p class="text-xs text-gray-600 dark:text-gray-300 font-semibold">
                    Criado por Maria L.
                  </p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">
                    Curitiba, PR
                  </p>
                </div>
              </div>

              <!-- Example 5 -->
              <div class="group relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
                <div class="aspect-square bg-gradient-to-br from-green-700 to-yellow-300 p-4 flex items-center justify-center">
                  <div class="text-white text-center">
                    <div class="text-6xl mb-2">üèÜ</div>
                    <p class="text-sm font-bold">Brasil Campe√£o</p>
                  </div>
                </div>
                <div class="p-3 bg-gray-50 dark:bg-gray-700">
                  <p class="text-xs text-gray-600 dark:text-gray-300 font-semibold">
                    Criado por Pedro F.
                  </p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">
                    Porto Alegre, RS
                  </p>
                </div>
              </div>

              <!-- Example 6 -->
              <div class="group relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
                <div class="aspect-square bg-gradient-to-br from-yellow-400 to-green-700 p-4 flex items-center justify-center">
                  <div class="text-white text-center">
                    <div class="text-6xl mb-2">üå¥</div>
                    <p class="text-sm font-bold">Amaz√¥nia Viva</p>
                  </div>
                </div>
                <div class="p-3 bg-gray-50 dark:bg-gray-700">
                  <p class="text-xs text-gray-600 dark:text-gray-300 font-semibold">
                    Criado por Juliana K.
                  </p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">
                    Bras√≠lia, DF
                  </p>
                </div>
              </div>

            </div>

            <!-- Social Proof Counter -->
            <div class="bg-gradient-to-r from-brasil-green to-brasil-yellow rounded-xl p-6 text-white text-center">
              <div class="flex items-center justify-center gap-8 flex-wrap">
                <div x-data="{ count: 0 }" 
                     x-init="setTimeout(() => { let interval = setInterval(() => { count += 12; if(count >= 342) { count = 342; clearInterval(interval); } }, 30); }, 500)">
                  <p class="text-3xl md:text-4xl font-bold">
                    <span x-text="count"></span>+
                  </p>
                  <p class="text-sm opacity-90">cria√ß√µes hoje</p>
                </div>
                <div class="hidden md:block w-px h-12 bg-white/30"></div>
                <div>
                  <p class="text-3xl md:text-4xl font-bold">1.247</p>
                  <p class="text-sm opacity-90">esta semana</p>
                </div>
                <div class="hidden md:block w-px h-12 bg-white/30"></div>
                <div>
                  <p class="text-3xl md:text-4xl font-bold">‚≠ê 4.9</p>
                  <p class="text-sm opacity-90">avalia√ß√£o m√©dia</p>
                </div>
              </div>
            </div>

            <!-- CTA to scroll/start -->
            <div class="text-center mt-8">
              <p class="text-gray-600 dark:text-gray-400 mb-4">
                Sua vez! Crie algo √∫nico em 30 segundos
              </p>
              <div class="inline-flex items-center gap-2 text-brasil-green dark:text-brasil-yellow animate-bounce">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                </svg>
                <span class="font-semibold">Comece aqui embaixo</span>
              </div>
            </div>
          </div>

          <!-- Attempts Counter - Gamified -->
          <div x-show="auth.isAuthenticated" 
               class="mb-8 bg-gradient-to-r from-green-50 to-yellow-50 dark:from-gray-800 dark:to-gray-800 border-2 rounded-2xl p-6 shadow-lg"
               :class="{
                 'border-green-300 dark:border-green-600': geradorEstampas.tentativasRestantes > 5,
                 'border-yellow-300 dark:border-yellow-600': geradorEstampas.tentativasRestantes <= 5 && geradorEstampas.tentativasRestantes > 2,
                 'border-red-300 dark:border-red-600 animate-pulse': geradorEstampas.tentativasRestantes <= 2
               }">
            
            <div class="flex items-center justify-between mb-4">
              <div class="flex items-center gap-3">
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-brasil-green to-brasil-yellow flex items-center justify-center shadow-lg">
                  <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path>
                  </svg>
                </div>
                <div>
                  <h4 class="font-bold text-lg text-gray-800 dark:text-white">
                    Suas Estampas Gr√°tis
                  </h4>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                    <span x-show="geradorEstampas.tentativasRestantes > 2">
                      Voc√™ tem <strong class="text-brasil-green" x-text="geradorEstampas.tentativasRestantes"></strong> estampas dispon√≠veis
                    </span>
                    <span x-show="geradorEstampas.tentativasRestantes <= 2 && geradorEstampas.tentativasRestantes > 0" class="text-orange-600 dark:text-orange-400 font-semibold">
                      ‚ö†Ô∏è Restam apenas <span x-text="geradorEstampas.tentativasRestantes"></span> estampas!
                    </span>
                    <span x-show="geradorEstampas.tentativasRestantes === 0" class="text-red-600 dark:text-red-400 font-semibold">
                      üö´ Voc√™ usou todas as estampas
                    </span>
                  </p>
                </div>
              </div>
              
              <!-- Counter Badge -->
              <div class="text-right">
                <div class="text-4xl font-bold font-display"
                     :class="{
                       'text-brasil-green': geradorEstampas.tentativasRestantes > 5,
                       'text-yellow-600': geradorEstampas.tentativasRestantes <= 5 && geradorEstampas.tentativasRestantes > 2,
                       'text-red-600': geradorEstampas.tentativasRestantes <= 2
                     }">
                  <span x-text="geradorEstampas.tentativasRestantes"></span>/<span class="text-2xl text-gray-400">10</span>
                </div>
                <p class="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide">
                  estampas
                </p>
              </div>
            </div>

            <!-- Visual Progress Bar -->
            <div class="mb-4">
              <div class="h-3 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                <div class="h-full transition-all duration-500 ease-out rounded-full"
                     :style="`width: ${(geradorEstampas.tentativasRestantes / 10) * 100}%`"
                     :class="{
                       'bg-gradient-to-r from-green-400 to-green-600': geradorEstampas.tentativasRestantes > 5,
                       'bg-gradient-to-r from-yellow-400 to-yellow-600': geradorEstampas.tentativasRestantes <= 5 && geradorEstampas.tentativasRestantes > 2,
                       'bg-gradient-to-r from-red-400 to-red-600': geradorEstampas.tentativasRestantes <= 2
                     }">
                </div>
              </div>
            </div>

            <!-- Dots Visualization -->
            <div class="flex items-center justify-center gap-2 mb-4">
              <template x-for="i in 10" :key="i">
                <div class="w-3 h-3 rounded-full transition-all duration-300"
                     :class="{
                       'bg-gradient-to-br from-brasil-green to-brasil-yellow scale-110 shadow-md': i <= geradorEstampas.tentativasRestantes,
                       'bg-gray-300 dark:bg-gray-600 scale-75 opacity-40': i > geradorEstampas.tentativasRestantes
                     }">
                </div>
              </template>
            </div>

            <!-- Information Box -->
            <div class="bg-white/50 dark:bg-gray-900/50 rounded-xl p-4 backdrop-blur-sm">
              <div class="flex items-start gap-3">
                <div class="flex-shrink-0">
                  <svg class="w-5 h-5 text-brasil-yellow" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div class="text-sm text-gray-700 dark:text-gray-300">
                  <p class="font-semibold mb-1">üí° Como ganhar mais estampas:</p>
                  <ul class="space-y-1 text-xs">
                    <li class="flex items-center gap-2">
                      <span class="text-green-500">‚úì</span>
                      <span>Compre qualquer camisa ‚Üí <strong class="text-brasil-green">+10 estampas</strong></span>
                    </li>
                    <li class="flex items-center gap-2">
                      <span class="text-green-500">‚úì</span>
                      <span>Cada compra recarrega suas estampas automaticamente</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- CTA when attempts run low -->
            <div x-show="geradorEstampas.tentativasRestantes <= 2 && geradorEstampas.tentativasRestantes > 0"
                 x-transition
                 class="mt-4 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl p-4 text-center">
              <p class="font-bold mb-2">üî• Suas estampas est√£o acabando!</p>
              <p class="text-sm mb-3 opacity-90">
                N√£o perca suas cria√ß√µes. Compre uma camisa agora e ganhe +10 estampas.
              </p>
              <a href="#produtos" 
                 class="inline-block bg-white text-orange-600 font-bold px-6 py-2 rounded-full hover:bg-gray-100 transition-colors text-sm">
                VER CAMISETAS ‚Üí
              </a>
            </div>

            <!-- CTA when no attempts left -->
            <div x-show="geradorEstampas.tentativasRestantes === 0"
                 x-transition
                 class="mt-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl p-4 text-center">
              <p class="font-bold text-lg mb-2">üö´ Voc√™ usou todas as estampas!</p>
              <p class="text-sm mb-4 opacity-90">
                Quer continuar criando? Compre uma camisa e ganhe +10 estampas gr√°tis.
              </p>
              <div class="flex flex-col sm:flex-row gap-3 justify-center">
                <a href="#produtos" 
                   class="inline-block bg-white text-red-600 font-bold px-6 py-3 rounded-full hover:bg-gray-100 transition-colors">
                  üõí COMPRAR CAMISA
                </a>
                <button class="bg-white/20 hover:bg-white/30 text-white font-semibold px-6 py-3 rounded-full transition-colors">
                  üí∞ COMPRAR S√ì ESTAMPAS (R$ 29,90)
                </button>
              </div>
            </div>

          </div>

          <!-- Show login CTA when not authenticated -->
          <div x-show="!auth.isAuthenticated" 
               class="mb-8 bg-gradient-to-r from-brasil-green to-brasil-yellow text-white rounded-2xl p-6 shadow-xl text-center">
            <div class="flex items-center justify-center gap-3 mb-3">
              <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path>
                </svg>
              </div>
              <h4 class="text-2xl font-bold">üéÅ 10 Estampas Gr√°tis para criar sua camisa personalizada agora</h4>
            </div>
            <p class="mb-4 opacity-90">
              Crie uma conta em 30 segundos e comece a gerar estampas √∫nicas agora
            </p>
            <button @click="geradorEstampas.openLoginModal = true" 
                    class="bg-white text-brasil-green font-bold px-8 py-3 rounded-full hover:bg-gray-100 transition-colors shadow-lg">
              üéÅ CRIAR CONTA E GANHAR 10 ESTAMPAS GR√ÅTIS
            </button>
          </div>

          <!-- Formul√°rio -->
          <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 md:p-8 border border-gray-100 dark:border-gray-700 relative z-10">
            <form @submit.prevent="generateStamp()">
              <!-- Caixa Informativa Modo Guiado -->
              <div x-show="!geradorEstampas.advancedMode" 
                   x-transition
                   class="mb-6 bg-gradient-to-r from-green-100 via-yellow-50 to-green-100 dark:from-green-900/30 dark:via-yellow-900/20 dark:to-green-900/30 border-l-4 border-green-500 dark:border-green-400 p-4 rounded-lg shadow-sm">
                <div class="flex items-start">
                  <div class="flex-shrink-0">
                    <svg class="h-6 w-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                  </div>
                  <div class="ml-3">
                    <p class="text-sm font-medium text-green-800 dark:text-green-200">
                      üé® Perfeito para iniciantes! Vamos guiar voc√™ passo a passo na cria√ß√£o da sua estampa com identidade nacional
                    </p>
                  </div>
                </div>
              </div>

              <!-- Mode Toggle -->
              <div class="mb-6 flex items-center justify-center gap-4 bg-gray-100 dark:bg-gray-800 p-2 rounded-xl">
                <button 
                  type="button"
                  @click="geradorEstampas.advancedMode = true; geradorEstampas.wizardMode = false;"
                  :class="geradorEstampas.advancedMode ? 'bg-orange-500 text-white shadow-lg' : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'"
                  class="flex-1 py-3 px-6 rounded-lg font-semibold transition-all transform hover:scale-105">
                  üî• Modo Avan√ßado
                </button>
                
                <div class="wizard-bubble-container flex-1 relative">
                  <button 
                    type="button"
                    @click="geradorEstampas.advancedMode = false; geradorEstampas.wizardMode = true; geradorEstampas.guideState.currentStep = null; geradorEstampas.guideState.selectedPersona = null;"
                    :class="!geradorEstampas.advancedMode ? 'bg-green-500 text-white shadow-lg' : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'"
                    class="w-full py-3 px-6 rounded-lg font-semibold transition-all transform hover:scale-105">
                    üéØ Modo Guiado (Recomendado)
                  </button>
                  
                  <!-- Speech Bubble Interativo -->
                  <div 
                    x-show="!speechBubbleDismissed && geradorEstampas.advancedMode"
                    x-data="{ 
                      bubbleObserver: null,
                      initBubble() {
                        this.$nextTick(() => {
                          const options = {
                            root: null,
                            threshold: [0.2, 0.3, 0.4, 0.5],
                            rootMargin: '-80px'
                          };
                          
                          this.bubbleObserver = new IntersectionObserver((entries) => {
                            entries.forEach(entry => {
                              if (entry.isIntersecting && entry.intersectionRatio >= 0.3) {
                                setTimeout(() => {
                                  entry.target.classList.add('show');
                                }, 500);
                              } else {
                                setTimeout(() => {
                                  entry.target.classList.remove('show');
                                }, 200);
                              }
                            });
                          }, options);
                          
                          this.bubbleObserver.observe(this.$el);
                        });
                      }
                    }"
                    x-init="initBubble()"
                    @click="activateGuidedMode()"
                    class="wizard-bubble"
                    role="button"
                    aria-label="Ativar modo guiado"
                    tabindex="0">
                    
                    <!-- Bot√£o Fechar -->
                    <button 
                      @click.stop="dismissSpeechBubble()"
                      class="wizard-bubble-close"
                      aria-label="Fechar dica"
                      type="button">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
                      </svg>
                    </button>
                    
                    <!-- Conte√∫do do Bal√£o -->
                    <div class="wizard-bubble-content">
                      <div>
                        <span class="wizard-bubble-icon">üëã</span>
                        <strong style="font-size: 1.05em;">N√£o sabe o que criar?</strong>
                      </div>
                      <p style="margin: 0.5em 0 0 0; font-weight: 500; opacity: 0.95;">
                        Fique tranquilo! O Modo Guiado foi feito especialmente para voc√™. 
                        Clique aqui e vamos te ajudar passo a passo! üé®
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Advanced Mode (existing textarea) -->
              <div x-show="geradorEstampas.advancedMode" x-transition>
                <div class="mb-6">
                  <div class="flex items-center justify-between mb-2">
                    <label class="block text-lg font-semibold text-brasil-green dark:text-brasil-yellow">
                      üí° O que voc√™ quer ver na sua camisa?
                    </label>
                    <div class="text-right">
                      <span 
                        class="text-sm font-semibold transition-colors"
                        :class="(geradorEstampas.prompt?.length || 0) > 500 ? 'text-red-600 dark:text-red-400' : 'text-gray-600 dark:text-gray-400'"
                        x-text="Math.max(0, 500 - (geradorEstampas.prompt?.length || 0))"
                      ></span>
                      <span class="text-xs text-gray-500 dark:text-gray-400"> / 500</span>
                    </div>
                  </div>
                  <textarea
                    id="advanced-prompt-textarea"
                    x-model="geradorEstampas.prompt"
                    @input="if(geradorEstampas.prompt && geradorEstampas.prompt.length > 500) { geradorEstampas.prompt = geradorEstampas.prompt.substring(0, 500); showToast('‚ö†Ô∏è Limite de 500 caracteres atingido!', 'warning'); }"
                    @focus="pauseSocialProof()"
                    @blur="setTimeout(() => resumeSocialProof(), 5000)"
                    placeholder="Ex: '√Åguia brasileira majestosa com bandeira ao fundo' ou 'Frase ORDEM E PROGRESSO em estilo vintage'..."
                    maxlength="500"
                    class="w-full h-24 p-4 bg-white dark:bg-gray-900 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-brasil-green focus:border-transparent transition text-gray-900 dark:text-white resize-none"
                    :class="(geradorEstampas.prompt?.length || 0) >= 500 ? 'border-red-500 dark:border-red-600' : 'border-gray-300 dark:border-gray-600'"
                    :disabled="geradorEstampas.isLoading"
                  ></textarea>
                <div x-show="(geradorEstampas.prompt?.length || 0) >= 500" class="mt-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded text-xs text-red-700 dark:text-red-300">
                  <p class="font-semibold">‚ö†Ô∏è Limite de 500 caracteres atingido! Voc√™ n√£o pode adicionar mais texto.</p>
                </div>
                <p class="text-xs text-gray-500 dark:text-gray-400 mt-2 flex items-start gap-2" x-show="(geradorEstampas.prompt?.length || 0) <= 500">
                  <span>üí°</span>
                  <span><strong>Dica:</strong> Quanto mais detalhes voc√™ der (cores, estilo, elementos), melhor ser√° o resultado. Exemplos: "estilo minimalista", "cores vibrantes", "efeito vintage"</span>
                </p>
              </div>

              <!-- MODO GUIADO - ESTRUTURA COMPLETA -->
              <div x-show="!geradorEstampas.advancedMode" x-transition class="space-y-6">
                
                <!-- STEP 1: Escolha de Persona -->
                <div class="guide-step-container">
                  <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-4">
                    üë• Passo 1: Quem vai aparecer na sua estampa?
                  </h3>
                  
                  <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                    <!-- Op√ß√£o Fam√≠lia -->
                    <div class="guide-step-container">
                      <button
                        @click="selectPersona('familia')"
                        :class="geradorEstampas.guideState.selectedPersona === 'familia' ? 'ring-4 ring-green-500 bg-green-50 dark:bg-green-900/20' : 'bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600'"
                        class="relative w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 transition-all transform hover:scale-105">
                        <div class="text-4xl mb-2">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                        <div class="font-semibold text-sm text-gray-800 dark:text-white">Fam√≠lia</div>
                      </button>
                      
                      <!-- Speech Bubble Guia -->
                      <div 
                        x-show="!geradorEstampas.guideState.selectedPersona && geradorEstampas.guideState.currentStep === null"
                        class="guide-bubble-top show pulse">
                        <div class="text-center">
                          <span class="text-2xl block mb-2">üëã</span>
                          <strong>Comece escolhendo!</strong>
                          <p class="text-sm mt-2 opacity-90">Clique em uma op√ß√£o para ver sugest√µes de prompts incr√≠veis</p>
                        </div>
                      </div>
                    </div>
                    
                    <!-- Op√ß√£o Sozinho -->
                    <div class="guide-step-container">
                      <button
                        @click="selectPersona('sozinho')"
                        :class="geradorEstampas.guideState.selectedPersona === 'sozinho' ? 'ring-4 ring-green-500 bg-green-50 dark:bg-green-900/20' : 'bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600'"
                        class="w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 transition-all transform hover:scale-105">
                        <div class="text-4xl mb-2">üßç</div>
                        <div class="font-semibold text-sm text-gray-800 dark:text-white">Sozinho(a)</div>
                      </button>
                    </div>
                    
                    <!-- Op√ß√£o Casal -->
                    <div class="guide-step-container">
                      <button
                        @click="selectPersona('casal')"
                        :class="geradorEstampas.guideState.selectedPersona === 'casal' ? 'ring-4 ring-green-500 bg-green-50 dark:bg-green-900/20' : 'bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600'"
                        class="w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 transition-all transform hover:scale-105">
                        <div class="text-4xl mb-2">üíë</div>
                        <div class="font-semibold text-sm text-gray-800 dark:text-white">Casal</div>
                      </button>
                    </div>
                    
                    <!-- Op√ß√£o Pet -->
                    <div class="guide-step-container">
                      <button
                        @click="selectPersona('pet')"
                        :class="geradorEstampas.guideState.selectedPersona === 'pet' ? 'ring-4 ring-green-500 bg-green-50 dark:bg-green-900/20' : 'bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600'"
                        class="w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 transition-all transform hover:scale-105">
                        <div class="text-4xl mb-2">üêï</div>
                        <div class="font-semibold text-sm text-gray-800 dark:text-white">Pet</div>
                      </button>
                    </div>
                  </div>
                </div>
                
                <!-- STEP 2: Sugest√£o de Prompt -->
                <div 
                  x-show="geradorEstampas.guideState.selectedPersona && geradorEstampas.guideState.currentStep === 'prompt-suggestion'"
                  x-transition
                  class="guide-step-container">
                  
                  <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-4">
                    ‚ú® Passo 2: Sugest√£o de Prompt
                  </h3>
                  
                  <div class="bg-white dark:bg-gray-700 p-6 rounded-lg border-2 border-gray-200 dark:border-gray-600 relative">
                    <!-- Speech Bubble com Sugest√£o -->
                    <div class="guide-bubble-top prompt-suggestion-bubble show">
                      <div class="text-center">
                        <span class="text-2xl block mb-2">üé®</span>
                        <strong class="text-base">Que tal este prompt?</strong>
                      </div>
                      
                      <div class="prompt-text" x-text="geradorEstampas.promptDatabase[geradorEstampas.guideState.selectedPersona]?.[geradorEstampas.guideState.currentPromptIndex] || ''"></div>
                      
                      <div class="bubble-actions">
                        <button 
                          @click="usePromptSuggestion()"
                          class="bubble-btn bubble-btn-primary">
                          ‚úÖ Usar Este
                        </button>
                        <button 
                          @click="refreshPrompt()"
                          class="bubble-btn bubble-btn-secondary">
                          üîÑ Outro
                        </button>
                      </div>
                      
                      <p class="text-xs text-center mt-3 opacity-75">
                        üí° Dica: Voc√™ pode editar o prompt depois de aplicar
                      </p>
                    </div>
                    
                    <div class="text-center py-8 text-gray-400">
                      <p class="text-sm">Escolha uma op√ß√£o acima ‚òùÔ∏è</p>
                    </div>
                  </div>
                </div>
                
                <!-- STEP 3: Confirmar Prompt Aplicado -->
                <div 
                  x-show="geradorEstampas.guideState.currentStep === 'prompt-applied'"
                  x-transition
                  class="bg-green-50 dark:bg-green-900/20 border-2 border-green-500 dark:border-green-400 rounded-lg p-6 text-center">
                  <span class="text-4xl block mb-3">üéâ</span>
                  <h3 class="text-xl font-bold text-green-800 dark:text-green-200 mb-2">Prompt Aplicado!</h3>
                  <p class="text-gray-700 dark:text-gray-300 mb-4">
                    Seu prompt foi inserido no campo abaixo. Voc√™ pode edit√°-lo ou prosseguir para gerar sua estampa!
                  </p>
                  <button
                    @click="geradorEstampas.guideState.currentStep = null; geradorEstampas.guideState.selectedPersona = null"
                    class="bg-green-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700 transition-all">
                    ‚ú® Escolher Outro Prompt
                  </button>
                </div>
              </div>

              <!-- Image Upload -->
              <div class="mb-6">
                <label class="block text-lg font-semibold text-brasil-green dark:text-brasil-yellow mb-2">
                  üì∑ Tem uma inspira√ß√£o? Envie aqui (opcional)
                </label>
                <div x-show="!geradorEstampas.imagePreview">
                  <input
                    type="file"
                    @change="handleFileUpload($event)"
                    accept="image/png, image/jpeg, image/webp"
                    class="hidden"
                    id="file-upload"
                    :disabled="geradorEstampas.isLoading"
                    multiple="false"
                  />
                  <label
                    for="file-upload"
                    class="w-full flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-brasil-green hover:text-brasil-green transition-colors"
                    :class="geradorEstampas.isLoading ? 'cursor-not-allowed opacity-50' : ''"
                  >
                    <svg class="w-12 h-12 mx-auto mb-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                    </svg>
                    <p class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1">
                      Arraste uma imagem ou clique para selecionar
                    </p>
                    <p class="text-xs text-gray-500">
                      JPG, PNG ou WEBP at√© 5MB
                    </p>
                  </label>
                </div>
                <div x-show="geradorEstampas.imagePreview" class="relative inline-block">
                  <img 
                    :src="geradorEstampas.imagePreview" 
                    alt="Preview" 
                    class="w-48 h-48 object-cover rounded-lg border-2 border-brasil-green"
                  />
                  <button
                    type="button"
                    @click="clearImage()"
                    :disabled="geradorEstampas.isLoading"
                    class="absolute top-2 right-2 bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm hover:bg-red-700 transition-colors"
                    aria-label="Remover imagem"
                  >
                    √ó
                  </button>
                </div>
              </div>

              <!-- Generate Button -->
              <button
                type="submit"
                :disabled="geradorEstampas.isLoading"
                class="w-full flex items-center justify-center gap-3 bg-brasil-yellow hover:bg-yellow-500 text-brasil-green font-bold py-4 px-8 rounded-xl text-lg transition-all transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed shadow-lg hover:shadow-xl disabled:opacity-75 disabled:bg-gray-400 disabled:text-white"
                x-show="!geradorEstampas.isLoading"
              >
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
                <span>‚ú® CRIAR MINHA ESTAMPA GR√ÅTIS</span>
              </button>
              <button
                type="submit"
                disabled
                class="w-full flex items-center justify-center gap-3 bg-gray-400 text-white font-bold py-4 px-8 rounded-xl text-lg cursor-not-allowed opacity-75"
                x-show="geradorEstampas.isLoading"
              >
                <svg class="animate-spin h-5 w-5" viewBox="0 0 24 24" fill="none">
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <span>Gerando sua obra-prima...</span>
              </button>
            </form>

            <!-- Error Message -->
            <div x-show="geradorEstampas.error" class="mt-4 p-4 bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-300 rounded-lg">
              <p x-text="geradorEstampas.error"></p>
            </div>

            <!-- Generated Image Result -->
            <div x-show="geradorEstampas.generatedImageUrl" class="mt-8">
              <!-- Success Banner -->
              <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-t-xl flex items-center justify-center gap-3 mb-0">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span class="font-bold">üéâ Sua estampa est√° pronta!</span>
              </div>
              
              <!-- ADD preview badge above image: -->
              <div x-show="geradorEstampas.isPreview" 
                   class="bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded-lg p-3 mb-4">
                <p class="text-sm text-yellow-800 dark:text-yellow-200 font-semibold text-center">
                  ‚ö†Ô∏è PR√âVIA - Fa√ßa login para salvar permanentemente
                </p>
              </div>
              
              <div class="bg-gray-900/50 dark:bg-gray-700/50 p-4 rounded-lg flex justify-center items-center border-2 border-dashed border-gray-300 dark:border-gray-600 mb-4">
                <img 
                  :src="geradorEstampas.generatedImageUrl" 
                  alt="Estampa gerada" 
                  class="max-w-full h-auto max-h-96 rounded-md shadow-lg"
                />
              </div>
              <div class="flex flex-col sm:flex-row gap-4">
                <a
                  :href="geradorEstampas.generatedImageUrl"
                  download="Estampa_BRAVOS_BRASIL.png"
                  class="flex-1 text-center bg-brasil-yellow hover:bg-brasil-yellow-dark text-brasil-green font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105 flex items-center justify-center gap-2"
                >
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                  </svg>
                  <span>üíæ BAIXAR EM ALTA RESOLU√á√ÉO</span>
                </a>
                <button
                  @click="addToCartWithStamp()"
                  class="flex-1 bg-brasil-green hover:bg-brasil-green-dark text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105 text-xl"
                >
                  <span x-show="geradorEstampas.isPreview">
                    üîí SALVAR E ADICIONAR AO CARRINHO
                  </span>
                  <span x-show="!geradorEstampas.isPreview" class="block">
                    <span class="block">üõí QUERO ESSA CAMISA</span>
                    <span class="text-sm opacity-90 block mt-1">R$ 99,90 ¬∑ Entrega gr√°tis</span>
                  </span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- FEATURED PRODUCTS GRID -->
    <!-- ============================================ -->
    <section id="produtos" class="py-20 lg:py-32 bg-gray-50 dark:bg-gray-800">
      <div class="container mx-auto px-4 lg:px-8">
        <!-- Section Header -->
        <div class="text-center mb-16" data-aos="fade-up">
          <span class="inline-block px-4 py-1 bg-brasil-green/10 text-brasil-green dark:text-brasil-yellow rounded-full text-sm font-semibold mb-4">
            Mais Vendidos
          </span>
          <h2 class="font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white mb-4">
            Best-<span class="text-brasil-green dark:text-brasil-yellow">Sellers</span>
          </h2>
          <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
            Nossas camisetas mais populares, escolhidas por milhares de brasileiros orgulhosos.
          </p>
        </div>
        
        <!-- Products Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8">
          <template x-for="(product, index) in products" :key="product.id">
            <div 
              class="product-card bg-white dark:bg-gray-900 rounded-2xl overflow-hidden shadow-lg"
              :data-aos="index % 2 === 0 ? 'fade-up' : 'fade-down'"
              :data-aos-delay="index * 100"
            >
              <!-- Product Image -->
              <div class="relative overflow-hidden aspect-[3/4]">
                <img 
                  :src="product.image" 
                  :alt="product.name"
                  class="product-image w-full h-full object-cover"
                  loading="lazy"
                >
                <!-- Badge -->
                <div x-show="product.badge" class="absolute top-4 left-4">
                  <span class="px-3 py-1 bg-brasil-yellow text-brasil-green text-xs font-bold rounded-full" x-text="product.badge"></span>
                </div>
                <!-- Quick Actions -->
                <div class="absolute bottom-4 left-4 right-4 flex justify-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-gray-700 hover:text-brasil-green shadow-lg">
                    <i class="fas fa-heart"></i>
                  </button>
                  <button class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-gray-700 hover:text-brasil-green shadow-lg">
                    <i class="fas fa-eye"></i>
                  </button>
                </div>
              </div>
              
              <!-- Product Info -->
              <div class="p-5">
                <h3 class="font-heading text-lg font-bold text-gray-900 dark:text-white mb-2" x-text="product.name"></h3>
                <div class="flex items-center mb-3">
                  <div class="flex text-brasil-yellow">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                  <span class="text-sm text-gray-500 ml-2">(127)</span>
                </div>
                <div class="flex items-center justify-between mb-4">
                  <span class="text-2xl font-bold text-brasil-green dark:text-brasil-yellow" x-text="'R$ ' + product.price.toFixed(2).replace('.', ',')"></span>
                  <span class="text-sm text-gray-500 line-through" x-text="'R$ ' + (product.price * 1.3).toFixed(2).replace('.', ',')"></span>
                </div>
                
                <!-- Size Selector -->
                <div class="mb-4">
                  <label class="text-sm text-gray-600 dark:text-gray-400 mb-2 block">Tamanho:</label>
                  <div class="flex space-x-2">
                    <template x-for="size in ['P', 'M', 'G', 'GG']" :key="size">
                      <button 
                        @click="product.selectedSize = size"
                        class="w-10 h-10 rounded-lg border-2 font-semibold text-sm transition-all"
                        :class="product.selectedSize === size ? 'border-brasil-green bg-brasil-green text-white' : 'border-gray-300 text-gray-700 hover:border-brasil-green'"
                        x-text="size"
                      ></button>
                    </template>
                  </div>
                </div>
                
                <!-- Quantity & Add to Cart -->
                <div class="flex items-center space-x-3">
                  <!-- Quantity Selector -->
                  <div class="flex items-center border-2 border-gray-200 rounded-lg">
                    <button 
                      @click="product.quantity = Math.max(1, product.quantity - 1)"
                      class="qty-btn w-10 h-10 flex items-center justify-center text-gray-600"
                      aria-label="Diminuir quantidade"
                    >
                      <i class="fas fa-minus text-xs"></i>
                    </button>
                    <span class="w-10 text-center font-semibold" x-text="product.quantity"></span>
                    <button 
                      @click="product.quantity++"
                      class="qty-btn w-10 h-10 flex items-center justify-center text-gray-600"
                      aria-label="Aumentar quantidade"
                    >
                      <i class="fas fa-plus text-xs"></i>
                    </button>
                  </div>
                  
                  <!-- Add to Cart Button -->
                  <button 
                    @click="addToCart(product)"
                    class="flex-1 py-3 bg-brasil-green text-white font-bold rounded-lg hover:bg-brasil-green-dark transition-all flex items-center justify-center space-x-2 group"
                  >
                    <i class="fas fa-cart-plus group-hover:scale-110 transition-transform"></i>
                    <span>Adicionar</span>
                  </button>
                </div>
              </div>
            </div>
          </template>
        </div>
        
        <!-- View All Button -->
        <div class="text-center mt-12" data-aos="fade-up">
          <button class="inline-flex items-center px-8 py-4 border-2 border-brasil-green text-brasil-green dark:text-brasil-yellow dark:border-brasil-yellow font-bold rounded-full hover:bg-brasil-green hover:text-white dark:hover:bg-brasil-yellow dark:hover:text-brasil-green transition-all">
            <span>Ver Todos os Produtos</span>
            <i class="fas fa-arrow-right ml-2"></i>
          </button>
        </div>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- VALUES SECTION -->
    <!-- ============================================ -->
    <section class="wavy-bg py-32 relative overflow-hidden">
      <div class="container mx-auto px-4 lg:px-8 relative z-10">
        <div class="text-center mb-16" data-aos="fade-up">
          <h2 class="font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4">
            Nossos <span class="text-brasil-yellow">Valores</span>
          </h2>
          <p class="text-white/80 max-w-2xl mx-auto">
            Princ√≠pios que nos guiam e definem quem somos como brasileiros.
          </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Deus -->
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 text-center hover:bg-white/20 transition-all" data-aos="fade-up" data-aos-delay="0">
            <div class="w-20 h-20 mx-auto mb-6 bg-brasil-yellow rounded-full flex items-center justify-center">
              <i class="fas fa-cross text-3xl text-brasil-green"></i>
            </div>
            <h3 class="font-heading text-2xl font-bold text-white mb-3">Deus</h3>
            <p class="text-white/80 text-sm">
              F√© inabal√°vel no Criador como fundamento de nossa na√ß√£o e guia de nossas vidas.
            </p>
          </div>
          
          <!-- Fam√≠lia -->
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 text-center hover:bg-white/20 transition-all" data-aos="fade-up" data-aos-delay="100">
            <div class="w-20 h-20 mx-auto mb-6 bg-brasil-yellow rounded-full flex items-center justify-center">
              <i class="fas fa-home text-3xl text-brasil-green"></i>
            </div>
            <h3 class="font-heading text-2xl font-bold text-white mb-3">Fam√≠lia</h3>
            <p class="text-white/80 text-sm">
              A fam√≠lia como n√∫cleo fundamental da sociedade, base de uma na√ß√£o forte.
            </p>
          </div>
          
          <!-- Liberdade -->
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 text-center hover:bg-white/20 transition-all" data-aos="fade-up" data-aos-delay="200">
            <div class="w-20 h-20 mx-auto mb-6 bg-brasil-yellow rounded-full flex items-center justify-center">
              <i class="fas fa-dove text-3xl text-brasil-green"></i>
            </div>
            <h3 class="font-heading text-2xl font-bold text-white mb-3">Liberdade</h3>
            <p class="text-white/80 text-sm">
              Liberdade de express√£o, de cren√ßa e de empresa como pilares da democracia.
            </p>
          </div>
          
          <!-- P√°tria -->
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 text-center hover:bg-white/20 transition-all" data-aos="fade-up" data-aos-delay="300">
            <div class="w-20 h-20 mx-auto mb-6 bg-brasil-yellow rounded-full flex items-center justify-center">
              <i class="fas fa-flag text-3xl text-brasil-green"></i>
            </div>
            <h3 class="font-heading text-2xl font-bold text-white mb-3">P√°tria</h3>
            <p class="text-white/80 text-sm">
              Amor pelo Brasil e dedica√ß√£o ao seu progresso e prosperidade.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- PRODUCT CAROUSEL (SWIPER) -->
    <!-- ============================================ -->
    <section class="py-20 lg:py-32 bg-white dark:bg-gray-900">
      <div class="container mx-auto px-4 lg:px-8">
        <div class="text-center mb-12" data-aos="fade-up">
          <h2 class="font-heading text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4">
            Cole√ß√£o <span class="text-brasil-green dark:text-brasil-yellow">Exclusiva</span>
          </h2>
          <p class="text-gray-600 dark:text-gray-400">
            Deslize para ver mais modelos com identidade nacional
          </p>
        </div>
        
        <!-- Swiper -->
        <div class="swiper productSwiper" data-aos="fade-up">
          <div class="swiper-wrapper">
            <template x-for="product in carouselProducts" :key="product.id">
              <div class="swiper-slide">
                <div class="relative rounded-2xl overflow-hidden shadow-lg group">
                  <img 
                    :src="product.image" 
                    :alt="product.name"
                    class="w-full aspect-[3/4] object-cover transition-transform duration-500 group-hover:scale-110"
                    loading="lazy"
                  >
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"></div>
                  <div class="absolute bottom-0 left-0 right-0 p-6">
                    <h3 class="font-heading text-xl font-bold text-white mb-2" x-text="product.name"></h3>
                    <p class="text-brasil-yellow font-bold text-lg" x-text="'R$ ' + product.price.toFixed(2).replace('.', ',')"></p>
                  </div>
                </div>
              </div>
            </template>
          </div>
          <div class="swiper-pagination mt-8"></div>
        </div>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- TESTIMONIALS SECTION -->
    <!-- ============================================ -->
    <section id="depoimentos" class="py-20 lg:py-32 bg-brasil-yellow">
      <div class="container mx-auto px-4 lg:px-8">
        <!-- Stats Counter -->
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-8 mb-16">
          <div class="text-center" data-aos="fade-up" data-aos-delay="0">
            <div class="counter font-heading text-5xl lg:text-6xl font-bold text-brasil-green mb-2" data-target="10000">+10.000</div>
            <p class="text-brasil-green-dark font-semibold">Camisetas Vendidas</p>
          </div>
          <div class="text-center" data-aos="fade-up" data-aos-delay="100">
            <div class="counter font-heading text-5xl lg:text-6xl font-bold text-brasil-green mb-2" data-target="5000">+5.000</div>
            <p class="text-brasil-green-dark font-semibold">Clientes Satisfeitos</p>
          </div>
          <div class="text-center" data-aos="fade-up" data-aos-delay="200">
            <div class="counter font-heading text-5xl lg:text-6xl font-bold text-brasil-green mb-2" data-target="98">98%</div>
            <p class="text-brasil-green-dark font-semibold">Avalia√ß√µes Positivas</p>
          </div>
          <div class="text-center" data-aos="fade-up" data-aos-delay="300">
            <div class="counter font-heading text-5xl lg:text-6xl font-bold text-brasil-green mb-2" data-target="27">27</div>
            <p class="text-brasil-green-dark font-semibold">Estados Atendidos</p>
          </div>
        </div>
        
        <!-- Testimonials Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <template x-for="(testimonial, index) in testimonials" :key="index">
            <div 
              class="testimonial-card rounded-2xl p-6 shadow-lg"
              data-aos="fade-up"
              :data-aos-delay="index * 100"
            >
              <div class="flex items-center mb-4">
                <img 
                  :src="testimonial.avatar" 
                  :alt="testimonial.name"
                  class="w-14 h-14 rounded-full object-cover mr-4"
                  loading="lazy"
                >
                <div>
                  <h4 class="font-bold text-gray-900 dark:text-white" x-text="testimonial.name"></h4>
                  <div class="flex text-brasil-yellow text-sm">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                </div>
              </div>
              <p class="text-gray-600 dark:text-gray-400 text-sm italic" x-text="'" + testimonial.text + "'"></p>
              <div class="mt-4 flex items-center text-brasil-green dark:text-brasil-yellow">
                <i class="fas fa-check-circle mr-2"></i>
                <span class="text-xs font-semibold">Compra verificada</span>
              </div>
            </div>
          </template>
        </div>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- ABOUT BRAND SECTION -->
    <!-- ============================================ -->
    <section id="sobre" class="py-20 lg:py-32 bg-gray-50 dark:bg-gray-800">
      <div class="container mx-auto px-4 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <!-- Image -->
          <div data-aos="fade-right">
            <div class="relative">
              <img 
                src="public/about-factory.jpg" 
                alt="F√°brica BRAVOS BRASIL"
                class="rounded-2xl shadow-2xl w-full"
                loading="lazy"
              >
              <div class="absolute -bottom-6 -right-6 w-32 h-32 bg-brasil-yellow rounded-2xl flex items-center justify-center shadow-lg">
                <div class="text-center">
                  <span class="block font-heading text-3xl font-bold text-brasil-green">5+</span>
                  <span class="text-xs text-brasil-green-dark">Anos de<br>Hist√≥ria</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Content -->
          <div data-aos="fade-left">
            <span class="inline-block px-4 py-1 bg-brasil-green/10 text-brasil-green dark:text-brasil-yellow rounded-full text-sm font-semibold mb-4">
              Sobre N√≥s
            </span>
            <h2 class="font-heading text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
              Vestindo o <span class="text-brasil-green dark:text-brasil-yellow">Brasil</span> com Orgulho
            </h2>
            <p class="text-gray-600 dark:text-gray-400 mb-4">
              A BRAVOS BRASIL nasceu do sonho de criar roupas que representassem os valores e o orgulho de ser brasileiro. 
              Fundada em 2020, nossa miss√£o √© vestir patriotas com qualidade e estilo.
            </p>
            <p class="text-gray-600 dark:text-gray-400 mb-6">
              Todas as nossas camisetas s√£o produzidas com 100% algod√£o brasileiro, em f√°bricas que respeitam 
              os direitos dos trabalhadores e o meio ambiente. Cada estampa √© desenvolvida por artistas brasileiros 
              apaixonados por nossa hist√≥ria e cultura.
            </p>
            
            <!-- Features List -->
            <div class="space-y-4 mb-8">
              <div class="flex items-center">
                <div class="w-10 h-10 bg-brasil-green rounded-full flex items-center justify-center mr-4">
                  <i class="fas fa-check text-white"></i>
                </div>
                <span class="text-gray-700 dark:text-gray-300">100% Algod√£o Premium Brasileiro</span>
              </div>
              <div class="flex items-center">
                <div class="w-10 h-10 bg-brasil-green rounded-full flex items-center justify-center mr-4">
                  <i class="fas fa-check text-white"></i>
                </div>
                <span class="text-gray-700 dark:text-gray-300">Estampas de Alta Durabilidade</span>
              </div>
              <div class="flex items-center">
                <div class="w-10 h-10 bg-brasil-green rounded-full flex items-center justify-center mr-4">
                  <i class="fas fa-check text-white"></i>
                </div>
                <span class="text-gray-700 dark:text-gray-300">Produ√ß√£o √âtica e Sustent√°vel</span>
              </div>
              <div class="flex items-center">
                <div class="w-10 h-10 bg-brasil-green rounded-full flex items-center justify-center mr-4">
                  <i class="fas fa-check text-white"></i>
                </div>
                <span class="text-gray-700 dark:text-gray-300">Designs Exclusivos com Identidade Nacional</span>
              </div>
            </div>
            
            <a href="#contato" @click.prevent="scrollTo('contato')" class="inline-flex items-center px-8 py-4 bg-brasil-green text-white font-bold rounded-full hover:bg-brasil-green-dark transition-all">
              <span>Fale Conosco</span>
              <i class="fas fa-arrow-right ml-2"></i>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- FAQ ACCORDION -->
    <!-- ============================================ -->
    <section class="py-20 lg:py-32 bg-white dark:bg-gray-900">
      <div class="container mx-auto px-4 lg:px-8">
        <div class="text-center mb-16" data-aos="fade-up">
          <h2 class="font-heading text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4">
            Perguntas <span class="text-brasil-green dark:text-brasil-yellow">Frequentes</span>
          </h2>
          <p class="text-gray-600 dark:text-gray-400">
            Tire suas d√∫vidas sobre nossos produtos e servi√ßos
          </p>
        </div>
        
        <div class="max-w-3xl mx-auto space-y-4">
          <template x-for="(faq, index) in faqs" :key="index">
            <div 
              class="border-2 border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden"
              data-aos="fade-up"
              :data-aos-delay="index * 50"
            >
              <button 
                @click="toggleFaq(index)"
                class="w-full px-6 py-4 flex items-center justify-between text-left bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
                :aria-expanded="faq.open"
                :aria-controls="'faq-content-' + index"
              >
                <span class="font-semibold text-gray-900 dark:text-white" x-text="faq.question"></span>
                <i 
                  class="fas fa-chevron-down text-brasil-green dark:text-brasil-yellow transition-transform"
                  :class="faq.open ? 'rotate-180' : ''"
                ></i>
              </button>
              <div 
                :id="'faq-content-' + index"
                class="accordion-content"
                :class="faq.open ? 'open' : ''"
              >
                <div class="px-6 py-4 text-gray-600 dark:text-gray-400" x-text="faq.answer"></div>
              </div>
            </div>
          </template>
        </div>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- FINAL CTA SECTION -->
    <!-- ============================================ -->
    <section id="contato" class="py-20 lg:py-32 bg-brasil-green-dark relative overflow-hidden">
      <!-- Background Pattern -->
      <div class="absolute inset-0 opacity-10">
        <div class="absolute top-0 left-0 w-64 h-64 bg-brasil-yellow rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 right-0 w-96 h-96 bg-brasil-yellow rounded-full blur-3xl"></div>
      </div>
      
      <div class="container mx-auto px-4 lg:px-8 relative z-10">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <!-- Left Content -->
          <div data-aos="fade-right">
            <h2 class="font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6">
              N√£o Perca Nenhuma <span class="text-brasil-yellow">Novidade!</span>
            </h2>
            <p class="text-white/80 text-lg mb-8">
              Cadastre-se e receba ofertas exclusivas, lan√ßamentos em primeira m√£o e 
              cupons de desconto diretamente no seu e-mail.
            </p>
            
            <!-- Benefits -->
            <div class="space-y-4 mb-8">
              <div class="flex items-center text-white/90">
                <i class="fas fa-gift text-brasil-yellow mr-3"></i>
                <span>10% de desconto na primeira compra</span>
              </div>
              <div class="flex items-center text-white/90">
                <i class="fas fa-bell text-brasil-yellow mr-3"></i>
                <span>Acesso antecipado a lan√ßamentos</span>
              </div>
              <div class="flex items-center text-white/90">
                <i class="fas fa-tag text-brasil-yellow mr-3"></i>
                <span>Promo√ß√µes exclusivas para assinantes</span>
              </div>
            </div>
            
            <!-- WhatsApp CTA -->
            <a 
              href="https://wa.me/5511999999999?text=Ol√°!%20Gostaria%20de%20saber%20mais%20sobre%20as%20camisetas%20BRAVOS%20BRASIL!"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center px-8 py-4 bg-green-500 text-white font-bold rounded-full hover:bg-green-600 transition-all"
            >
              <i class="fab fa-whatsapp text-2xl mr-3"></i>
              <span>Fale pelo WhatsApp</span>
            </a>
          </div>
          
          <!-- Newsletter Form -->
          <div data-aos="fade-left">
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-2xl">
              <h3 class="font-heading text-2xl font-bold text-gray-900 dark:text-white mb-2">
                Cadastre-se Agora
              </h3>
              <p class="text-gray-600 dark:text-gray-400 mb-6">
                E ganhe 10% OFF na primeira compra!
              </p>
              
              <form @submit.prevent="subscribeNewsletter()" class="space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nome completo</label>
                  <input 
                    type="text" 
                    x-model="newsletter.name"
                    required
                    class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-700 dark:text-white transition-colors"
                    placeholder="Seu nome"
                  >
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">E-mail</label>
                  <input 
                    type="email" 
                    x-model="newsletter.email"
                    required
                    class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-700 dark:text-white transition-colors"
                    placeholder="seu@email.com"
                  >
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">WhatsApp</label>
                  <input 
                    type="tel" 
                    x-model="newsletter.phone"
                    required
                    class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-700 dark:text-white transition-colors"
                    placeholder="(11) 99999-9999"
                  >
                </div>
                <button 
                  type="submit"
                  class="w-full py-4 bg-brasil-green text-white font-bold rounded-lg hover:bg-brasil-green-dark transition-all flex items-center justify-center"
                >
                  <span>Quero Meu Desconto!</span>
                  <i class="fas fa-arrow-right ml-2"></i>
                </button>
              </form>
              
              <p class="text-xs text-gray-500 mt-4 text-center">
                Ao se cadastrar, voc√™ concorda com nossa pol√≠tica de privacidade.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ============================================ -->
  <!-- FOOTER -->
  <!-- ============================================ -->
  <footer class="bg-gray-900 text-white py-16">
    <div class="container mx-auto px-4 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
        <!-- Brand Column -->
        <div>
          <div class="flex items-center space-x-2 mb-6">
            <div class="w-10 h-10 bg-brasil-yellow rounded-lg flex items-center justify-center">
              <span class="text-brasil-green font-heading font-bold text-xl">B</span>
            </div>
            <span class="font-heading text-xl font-bold text-brasil-yellow tracking-wider">BRAVOS BRASIL</span>
          </div>
          <p class="text-gray-400 text-sm mb-6">
            Vestindo o orgulho brasileiro com qualidade e estilo. 
            Camisetas premium para patriotas de verdade.
          </p>
          <!-- Social Icons -->
          <div class="flex space-x-4">
            <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-brasil-green transition-colors" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-brasil-green transition-colors" aria-label="Facebook">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-green-500 transition-colors" aria-label="WhatsApp">
              <i class="fab fa-whatsapp"></i>
            </a>
            <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-500 transition-colors" aria-label="Telegram">
              <i class="fab fa-telegram-plane"></i>
            </a>
            <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors" aria-label="X (Twitter)">
              <i class="fab fa-x-twitter"></i>
            </a>
          </div>
        </div>
        
        <!-- Links Column -->
        <div>
          <h4 class="font-heading text-lg font-bold mb-6">Links R√°pidos</h4>
          <ul class="space-y-3">
            <li><a href="#inicio" @click.prevent="scrollTo('inicio')" class="text-gray-400 hover:text-brasil-yellow transition-colors">In√≠cio</a></li>
            <li><a href="#produtos" @click.prevent="scrollTo('produtos')" class="text-gray-400 hover:text-brasil-yellow transition-colors">Produtos</a></li>
            <li><a href="#sobre" @click.prevent="scrollTo('sobre')" class="text-gray-400 hover:text-brasil-yellow transition-colors">Sobre N√≥s</a></li>
            <li><a href="#depoimentos" @click.prevent="scrollTo('depoimentos')" class="text-gray-400 hover:text-brasil-yellow transition-colors">Depoimentos</a></li>
            <li><a href="#" class="text-gray-400 hover:text-brasil-yellow transition-colors">Rastrear Pedido</a></li>
          </ul>
        </div>
        
        <!-- Support Column -->
        <div>
          <h4 class="font-heading text-lg font-bold mb-6">Atendimento</h4>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-400 hover:text-brasil-yellow transition-colors">Central de Ajuda</a></li>
            <li><a href="#" class="text-gray-400 hover:text-brasil-yellow transition-colors">Trocas e Devolu√ß√µes</a></li>
            <li><a href="#" class="text-gray-400 hover:text-brasil-yellow transition-colors">Pol√≠tica de Privacidade</a></li>
            <li><a href="#" class="text-gray-400 hover:text-brasil-yellow transition-colors">Termos de Uso</a></li>
            <li><a href="#contato" @click.prevent="scrollTo('contato')" class="text-gray-400 hover:text-brasil-yellow transition-colors">Fale Conosco</a></li>
          </ul>
        </div>
        
        <!-- Payment Column -->
        <div>
          <h4 class="font-heading text-lg font-bold mb-6">Formas de Pagamento</h4>
          <div class="grid grid-cols-4 gap-3 mb-6">
            <div class="bg-gray-800 rounded-lg p-2 flex items-center justify-center" title="Pix">
              <i class="fas fa-qrcode text-2xl text-green-400"></i>
            </div>
            <div class="bg-gray-800 rounded-lg p-2 flex items-center justify-center" title="Visa">
              <i class="fab fa-cc-visa text-2xl text-blue-400"></i>
            </div>
            <div class="bg-gray-800 rounded-lg p-2 flex items-center justify-center" title="Mastercard">
              <i class="fab fa-cc-mastercard text-2xl text-red-400"></i>
            </div>
            <div class="bg-gray-800 rounded-lg p-2 flex items-center justify-center" title="Boleto">
              <i class="fas fa-barcode text-2xl text-white"></i>
            </div>
          </div>
          
          <!-- Security Badges -->
          <div class="flex items-center space-x-4">
            <div class="flex items-center text-gray-400 text-sm">
              <i class="fas fa-lock text-green-400 mr-2"></i>
              <span>Site Seguro</span>
            </div>
            <div class="flex items-center text-gray-400 text-sm">
              <i class="fas fa-shield-alt text-green-400 mr-2"></i>
              <span>SSL</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Bottom Bar -->
      <div class="border-t border-gray-800 pt-8 flex flex-col md:flex-row items-center justify-between">
        <p class="text-gray-500 text-sm text-center md:text-left">
          ¬© 2026 BRAVOS BRASIL ‚Äì Brasil Acima de Tudo. Todos os direitos reservados.
        </p>
        <p class="text-gray-600 text-xs mt-4 md:mt-0">
          CNPJ: 12.345.678/0001-90 | S√£o Paulo - SP
        </p>
      </div>
    </div>
  </footer>

  <!-- ============================================ -->
  <!-- CART SIDEBAR -->
  <!-- ============================================ -->
  <div 
    x-show="openCart"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="fixed inset-0 z-50"
    style="display: none;"
  >
    <!-- Backdrop -->
    <div 
      @click="openCart = false"
      class="absolute inset-0 bg-black/50 backdrop-blur-sm"
    ></div>
    
    <!-- Sidebar -->
    <div 
      class="cart-sidebar absolute right-0 top-0 h-full w-full max-w-md bg-white dark:bg-gray-900 shadow-2xl flex flex-col"
      :class="openCart ? 'open' : ''"
      @click.away="openCart = false"
    >
      <!-- Header -->
      <div class="flex items-center justify-between p-6 border-b dark:border-gray-700">
        <h2 class="font-heading text-2xl font-bold text-gray-900 dark:text-white">
          <i class="fas fa-shopping-cart mr-2 text-brasil-green dark:text-brasil-yellow"></i>
          Carrinho
        </h2>
        <button 
          @click="openCart = false"
          class="w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
          aria-label="Fechar carrinho"
        >
          <i class="fas fa-times text-gray-600 dark:text-gray-400"></i>
        </button>
      </div>
      
      <!-- Cart Items -->
      <div class="flex-1 overflow-y-auto p-6">
        <template x-if="cart.length === 0">
          <div class="text-center py-12">
            <div class="w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center">
              <i class="fas fa-shopping-basket text-4xl text-gray-400"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Seu carrinho est√° vazio</h3>
            <p class="text-gray-500 mb-6">Adicione produtos para continuar</p>
            <button 
              @click="openCart = false; scrollTo('produtos')"
              class="px-6 py-3 bg-brasil-green text-white font-bold rounded-full hover:bg-brasil-green-dark transition-all"
            >
              Ver Produtos
            </button>
          </div>
        </template>
        
        <template x-for="(item, index) in cart" :key="index">
          <div class="flex items-center space-x-4 mb-6 pb-6 border-b dark:border-gray-700">
            <img 
              :src="item.image" 
              :alt="item.name"
              class="w-20 h-20 object-cover rounded-lg"
            >
            <div class="flex-1">
              <h4 class="font-semibold text-gray-900 dark:text-white text-sm" x-text="item.name"></h4>
              <p class="text-gray-500 text-xs" x-text="'Tamanho: ' + item.size"></p>
              <div class="flex items-center justify-between mt-2">
                <div class="flex items-center border rounded-lg">
                  <button 
                    @click="updateQuantity(index, -1)"
                    class="w-8 h-8 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-800"
                  >
                    <i class="fas fa-minus text-xs"></i>
                  </button>
                  <span class="w-8 text-center text-sm" x-text="item.quantity"></span>
                  <button 
                    @click="updateQuantity(index, 1)"
                    class="w-8 h-8 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-800"
                  >
                    <i class="fas fa-plus text-xs"></i>
                  </button>
                </div>
                <span class="font-bold text-brasil-green dark:text-brasil-yellow" x-text="'R$ ' + (item.price * item.quantity).toFixed(2).replace('.', ',')"></span>
              </div>
            </div>
            <button 
              @click="removeFromCart(index)"
              class="text-red-500 hover:text-red-600 transition-colors"
              aria-label="Remover item"
            >
              <i class="fas fa-trash-alt"></i>
            </button>
          </div>
        </template>
      </div>
      
      <!-- Footer -->
      <template x-if="cart.length > 0">
        <div class="p-6 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800">
          <div class="flex items-center justify-between mb-4">
            <span class="text-gray-600 dark:text-gray-400">Subtotal</span>
            <span class="font-bold text-gray-900 dark:text-white" x-text="'R$ ' + cartTotal.toFixed(2).replace('.', ',')"></span>
          </div>
          <div class="flex items-center justify-between mb-6">
            <span class="text-gray-600 dark:text-gray-400">Frete</span>
            <span class="font-bold text-green-600">Gr√°tis</span>
          </div>
          <div class="flex items-center justify-between mb-6 text-xl">
            <span class="font-bold text-gray-900 dark:text-white">Total</span>
            <span class="font-bold text-brasil-green dark:text-brasil-yellow" x-text="'R$ ' + cartTotal.toFixed(2).replace('.', ',')"></span>
          </div>
          <button 
            @click="openCheckout = true"
            class="w-full py-4 bg-brasil-green text-white font-bold rounded-lg hover:bg-brasil-green-dark transition-all flex items-center justify-center"
          >
            <span>Finalizar Compra</span>
            <i class="fas fa-arrow-right ml-2"></i>
          </button>
          <button 
            @click="openCart = false; scrollTo('produtos')"
            class="w-full py-3 mt-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-semibold rounded-lg hover:border-brasil-green hover:text-brasil-green transition-all"
          >
            Continuar Comprando
          </button>
        </div>
      </template>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- CHECKOUT MODAL -->
  <!-- ============================================ -->
  <div 
    x-show="openCheckout"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="fixed inset-0 z-[60] flex items-center justify-center p-4"
    style="display: none;"
  >
    <div 
      @click="openCheckout = false"
      class="absolute inset-0 bg-black/50 backdrop-blur-sm"
    ></div>
    
    <div 
      class="relative bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto"
      @click.away="openCheckout = false"
    >
      <!-- Header -->
      <div class="flex items-center justify-between p-6 border-b dark:border-gray-700">
        <h2 class="font-heading text-2xl font-bold text-gray-900 dark:text-white">
          Finalizar Compra
        </h2>
        <button 
          @click="openCheckout = false"
          class="w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
        >
          <i class="fas fa-times text-gray-600 dark:text-gray-400"></i>
        </button>
      </div>
      
      <!-- Form -->
      <form @submit.prevent="finalizePurchase()" class="p-6 space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nome Completo *</label>
          <input 
            type="text" 
            x-model="checkout.name"
            required
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
            placeholder="Digite seu nome completo"
          >
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">E-mail *</label>
          <input 
            type="email" 
            x-model="checkout.email"
            required
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
            placeholder="seu@email.com"
          >
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">WhatsApp *</label>
          <input 
            type="tel" 
            x-model="checkout.phone"
            required
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
            placeholder="(11) 99999-9999"
          >
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">CEP *</label>
          <input 
            type="text" 
            x-model="checkout.cep"
            @blur="fetchAddress()"
            required
            maxlength="9"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
            placeholder="00000-000"
          >
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Endere√ßo *</label>
          <input 
            type="text" 
            x-model="checkout.address"
            required
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
            placeholder="Rua, Avenida, etc."
          >
        </div>
        
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">N√∫mero *</label>
            <input 
              type="text" 
              x-model="checkout.number"
              required
              class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
              placeholder="123"
            >
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Complemento</label>
            <input 
              type="text" 
              x-model="checkout.complement"
              class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
              placeholder="Apto, Bloco"
            >
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Bairro *</label>
          <input 
            type="text" 
            x-model="checkout.neighborhood"
            required
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
            placeholder="Seu bairro"
          >
        </div>
        
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Cidade *</label>
            <input 
              type="text" 
              x-model="checkout.city"
              required
              class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
              placeholder="Sua cidade"
            >
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Estado *</label>
            <select 
              x-model="checkout.state"
              required
              class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-800 dark:text-white"
            >
              <option value="">Selecione</option>
              <option value="AC">AC</option>
              <option value="AL">AL</option>
              <option value="AP">AP</option>
              <option value="AM">AM</option>
              <option value="BA">BA</option>
              <option value="CE">CE</option>
              <option value="DF">DF</option>
              <option value="ES">ES</option>
              <option value="GO">GO</option>
              <option value="MA">MA</option>
              <option value="MT">MT</option>
              <option value="MS">MS</option>
              <option value="MG">MG</option>
              <option value="PA">PA</option>
              <option value="PB">PB</option>
              <option value="PR">PR</option>
              <option value="PE">PE</option>
              <option value="PI">PI</option>
              <option value="RJ">RJ</option>
              <option value="RN">RN</option>
              <option value="RS">RS</option>
              <option value="RO">RO</option>
              <option value="RR">RR</option>
              <option value="SC">SC</option>
              <option value="SP">SP</option>
              <option value="SE">SE</option>
              <option value="TO">TO</option>
            </select>
          </div>
        </div>
        
        <!-- Order Summary -->
        <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mt-6">
          <h3 class="font-bold text-gray-900 dark:text-white mb-3">Resumo do Pedido</h3>
          <div class="space-y-2 text-sm">
            <div class="flex justify-between">
              <span class="text-gray-600 dark:text-gray-400">Itens:</span>
              <span x-text="cartCount"></span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600 dark:text-gray-400">Subtotal:</span>
              <span x-text="'R$ ' + cartTotal.toFixed(2).replace('.', ',')"></span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600 dark:text-gray-400">Frete:</span>
              <span class="text-green-600">Gr√°tis</span>
            </div>
            <div class="border-t pt-2 flex justify-between font-bold text-lg">
              <span class="text-gray-900 dark:text-white">Total:</span>
              <span class="text-brasil-green dark:text-brasil-yellow" x-text="'R$ ' + cartTotal.toFixed(2).replace('.', ',')"></span>
            </div>
          </div>
        </div>
        
        <button 
          type="submit"
          class="w-full py-4 bg-green-500 text-white font-bold rounded-lg hover:bg-green-600 transition-all flex items-center justify-center"
        >
          <i class="fab fa-whatsapp mr-2 text-xl"></i>
          <span>Finalizar no WhatsApp</span>
        </button>
        
        <p class="text-xs text-gray-500 text-center">
          Ao finalizar, voc√™ ser√° redirecionado para o WhatsApp com os detalhes do pedido.
        </p>
      </form>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- TOAST NOTIFICATION -->
  <!-- ============================================ -->
  <div 
    x-show="toast.show"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="translate-x-full opacity-0"
    x-transition:enter-end="translate-x-0 opacity-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="translate-x-0 opacity-100"
    x-transition:leave-end="translate-x-full opacity-0"
    class="fixed bottom-6 right-6 z-[70]"
    style="display: none;"
  >
    <div 
      class="flex items-center px-6 py-4 rounded-lg shadow-2xl"
      :class="toast.type === 'success' ? 'bg-green-500 text-white' : toast.type === 'warning' ? 'bg-yellow-500 text-white' : toast.type === 'info' ? 'bg-blue-500 text-white' : 'bg-red-500 text-white'"
    >
      <i class="fas" :class="toast.type === 'success' ? 'fa-check-circle' : toast.type === 'warning' ? 'fa-exclamation-triangle' : toast.type === 'info' ? 'fa-info-circle' : 'fa-exclamation-circle'"></i>
      <span class="ml-3 font-medium" x-text="toast.message"></span>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- LOGIN MODAL -->
  <!-- ============================================ -->
  <div 
    x-show="geradorEstampas.openLoginModal"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"
    @click.away="geradorEstampas.openLoginModal = false"
    style="display: none;"
  >
    <div 
      class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-8"
      @click.stop
    >
      <div class="flex items-center justify-between mb-6">
        <h2 class="font-heading text-2xl font-bold text-gray-900 dark:text-white">
          <span x-show="geradorEstampas.loginModalContext === 'save_stamp'">
            üéÅ Salve sua estampa e ganhe +9 estampas
          </span>
          <span x-show="geradorEstampas.loginModalContext === 'preview_limit'">
            ‚ö†Ô∏è Fa√ßa login para continuar
          </span>
          <span x-show="geradorEstampas.loginModalContext !== 'save_stamp' && geradorEstampas.loginModalContext !== 'preview_limit'">
            <span x-show="!geradorEstampas.loginForm.isRegister">Login</span>
            <span x-show="geradorEstampas.loginForm.isRegister">Cadastro</span>
          </span>
        </h2>
        <button 
          @click="geradorEstampas.openLoginModal = false"
          class="w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
        >
          <i class="fas fa-times text-gray-600 dark:text-gray-400"></i>
        </button>
      </div>

      <!-- ADD below title when context is save_stamp: -->
      <div x-show="geradorEstampas.loginModalContext === 'save_stamp'" 
           class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-4 mb-4">
        <p class="text-sm text-gray-700 dark:text-gray-300">
          <strong>Ao criar sua conta voc√™ vai:</strong><br>
          ‚úì Salvar esta estampa automaticamente<br>
          ‚úì Adicionar ao carrinho<br>
          ‚úì Ganhar +9 estampas extras<br>
          ‚úì Poder gerar quantas estampas quiser
        </p>
      </div>

      <!-- ADD below title when context is preview_limit: -->
      <div x-show="geradorEstampas.loginModalContext === 'preview_limit'" 
           class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4 mb-4">
        <p class="text-sm text-yellow-800 dark:text-yellow-200">
          <strong>‚ö†Ô∏è Limite de Pr√©via Atingido</strong><br>
          Voc√™ j√° gerou uma pr√©via neste dispositivo. Para continuar gerando estampas, fa√ßa login ou crie uma conta gr√°tis!
        </p>
      </div>

      <form @submit.prevent="login()" class="space-y-4">
        <div x-show="geradorEstampas.loginForm.isRegister">
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nome completo</label>
          <input 
            type="text" 
            x-model="geradorEstampas.loginForm.nome"
            required
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-700 dark:text-white"
            placeholder="Seu nome"
          >
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">E-mail</label>
          <input 
            type="email" 
            x-model="geradorEstampas.loginForm.email"
            required
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-700 dark:text-white"
            placeholder="seu@email.com"
          >
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Senha</label>
          <input 
            type="password" 
            x-model="geradorEstampas.loginForm.password"
            required
            minlength="6"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-700 dark:text-white"
            placeholder="M√≠nimo 6 caracteres"
          >
        </div>

        <div x-show="geradorEstampas.loginForm.isRegister">
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">WhatsApp (opcional)</label>
          <input 
            type="tel" 
            x-model="geradorEstampas.loginForm.telefone"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:border-brasil-green focus:ring-0 dark:bg-gray-700 dark:text-white"
            placeholder="(11) 99999-9999"
          >
        </div>

        <button 
          type="submit"
          class="w-full py-4 bg-brasil-green text-white font-bold rounded-lg hover:bg-brasil-green-dark transition-all"
        >
          <span x-show="!geradorEstampas.loginForm.isRegister">Entrar</span>
          <span x-show="geradorEstampas.loginForm.isRegister">Cadastrar</span>
        </button>
      </form>

      <div class="mt-6 text-center">
        <button 
          @click="geradorEstampas.loginForm.isRegister = !geradorEstampas.loginForm.isRegister"
          class="text-sm text-brasil-green hover:text-brasil-green-dark font-medium"
        >
          <span x-show="!geradorEstampas.loginForm.isRegister">N√£o tem conta? Cadastre-se</span>
          <span x-show="geradorEstampas.loginForm.isRegister">J√° tem conta? Fa√ßa login</span>
        </button>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- CACHE LIMIT MODAL -->
  <!-- ============================================ -->
  <div 
    x-show="geradorEstampas.openCacheModal"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"
    @click.away="cancelCacheModal()"
    style="display: none;"
  >
    <div 
      class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-8 max-h-[90vh] overflow-y-auto"
      @click.stop
    >
      <div class="flex items-center justify-between mb-6">
        <h2 class="font-heading text-2xl font-bold text-gray-900 dark:text-white">
          ‚ö†Ô∏è Limite de Cache Atingido
        </h2>
        <button 
          @click="cancelCacheModal()"
          class="w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
        >
          <i class="fas fa-times text-gray-600 dark:text-gray-400"></i>
        </button>
      </div>

      <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4 mb-6">
        <p class="text-sm text-yellow-800 dark:text-yellow-200">
          <strong>Voc√™ j√° tem 10 estampas salvas no cache.</strong><br>
          Para gerar uma nova estampa, voc√™ precisa excluir uma das estampas existentes. Selecione qual estampa deseja remover:
        </p>
      </div>

      <div class="space-y-3 mb-6 max-h-96 overflow-y-auto">
        <template x-for="(estampa, index) in geradorEstampas.cacheEstampas" :key="estampa.id">
          <div 
            @click="geradorEstampas.estampaParaExcluir = estampa.id"
            class="flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all"
            :class="geradorEstampas.estampaParaExcluir === estampa.id 
              ? 'border-brasil-green bg-brasil-green/10 dark:bg-brasil-green/20' 
              : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'"
          >
            <div class="w-20 h-20 flex-shrink-0 mr-4 rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-700">
              <img 
                :src="estampa.imageUrl" 
                :alt="'Estampa ' + (index + 1)"
                class="w-full h-full object-cover"
              />
            </div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-gray-900 dark:text-white truncate" x-text="estampa.prompt || 'Estampa sem prompt'"></p>
              <p class="text-xs text-gray-500 dark:text-gray-400" x-text="'Gerada em: ' + new Date(estampa.timestamp).toLocaleString('pt-BR')"></p>
            </div>
            <div class="ml-4">
              <div 
                class="w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all"
                :class="geradorEstampas.estampaParaExcluir === estampa.id 
                  ? 'border-brasil-green bg-brasil-green' 
                  : 'border-gray-300 dark:border-gray-600'"
              >
                <i 
                  x-show="geradorEstampas.estampaParaExcluir === estampa.id"
                  class="fas fa-check text-white text-xs"
                ></i>
              </div>
            </div>
          </div>
        </template>
      </div>

      <div class="flex gap-4">
        <button
          @click="cancelCacheModal()"
          class="flex-1 py-3 px-6 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-bold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-all"
        >
          Cancelar
        </button>
        <button
          @click="confirmDeleteAndGenerate(geradorEstampas.estampaParaExcluir)"
          :disabled="!geradorEstampas.estampaParaExcluir"
          class="flex-1 py-3 px-6 bg-brasil-green text-white font-bold rounded-lg hover:bg-brasil-green-dark transition-all disabled:bg-gray-400 disabled:cursor-not-allowed"
        >
          Excluir e Gerar Nova
        </button>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- SCRIPTS -->
  <!-- ============================================ -->
  
  <!-- AOS Animation -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  
  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  
  <!-- Service Worker Registration (PWA) -->
  <script>
    if ('serviceWorker' in navigator) {
      // Placeholder for service worker registration
      // To enable PWA, create a sw.js file and uncomment:
      // navigator.serviceWorker.register('/sw.js');
    }
  </script>
</body>
</html>